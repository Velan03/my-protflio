(self.modernJsonp=self.modernJsonp||[]).push([["2205"],{369416:function(e,t,a){a.d(t,{Z:()=>n}),a(441143);var s=a(785893);class r{static factory(e){return e instanceof r?e:new r(String(e))}constructor(e){this._private_safe_value=e.trim().replace(">",">").replace("<","<").replace("&","&").replace('"','"').replace("'","'")}toString(){return this._private_safe_value}}function n(e){let{css:t,unsafeCSS:a,...n}=e,i=String(t||"")||a||"";return i?(0,s.jsx)("style",{...n,dangerouslySetInnerHTML:{__html:String(r.factory(i))}}):null}},18468:function(e,t,a){a.d(t,{$P8:()=>y,$rz:()=>f,A6H:()=>_,Bz5:()=>v,CIX:()=>m,KSH:()=>C,Mbi:()=>L,OxT:()=>b,Ufh:()=>x,W6M:()=>n,XqD:()=>c,Y6X:()=>l,_ie:()=>X,bsG:()=>r,d9H:()=>h,gU$:()=>k,iO$:()=>s,iiJ:()=>o,jMQ:()=>W,ltu:()=>i,oVN:()=>I,of3:()=>E,scJ:()=>Z,t07:()=>p,te3:()=>g,wZV:()=>u,xKT:()=>d});let s="var(--base-color-pinterest)",r="var(--base-color-grayscale-0)",n="var(--base-color-grayscale-25)",i="var(--base-color-grayscale-50)",o="var(--base-color-grayscale-100)",u="var(--base-color-grayscale-150)",l="var(--base-color-grayscale-200)",c="var(--base-color-grayscale-250)",p="var(--base-color-grayscale-350)",h="var(--base-color-grayscale-400)",d="var(--base-color-grayscale-500)",m="var(--base-color-red-100)",b="var(--base-color-red-200)",f="var(--base-color-red-300)",g="var(--base-color-red-400)",v="var(--base-color-red-500)",_="var(--base-color-purple-100)",y="var(--base-color-purple-200)",x="var(--base-color-purple-400)",L="var(--base-color-blue-100)",I="var(--base-color-blue-400)",X="var(--base-color-blue-500)",W="var(--base-color-green-500)",E="var(--base-color-orange-100)",Z="var(--base-font-size-16)",k="var(--base-font-family-default-latin)",C="var(--base-font-family-code)"},821342:function(e,t,a){a.d(t,{$:()=>s,Z:()=>n});let{Provider:s,get:r}=(0,a(729434).Z)("viewer"),n=r},506662:function(e,t,a){a.d(t,{Ui:()=>b,R$:()=>eu,dZ:()=>c,bW:()=>v,Ur:()=>X,Bg:()=>Z,pV:()=>K,Ep:()=>J,RU:()=>eZ,QD:()=>w,Q0:()=>er,tZ:()=>en,lY:()=>L,rk:()=>eS,OJ:()=>l,XQ:()=>H,En:()=>ee,Xn:()=>z,PY:()=>M,L6:()=>Q,fY:()=>e_,f1:()=>ei,Y8:()=>W,C$:()=>T,cY:()=>eL,$Y:()=>ec,z_:()=>es,ey:()=>ev,dK:()=>I,Ig:()=>eN,gT:()=>et,or:()=>P,HV:()=>N,Fr:()=>eg,E0:()=>ep,Zz:()=>j,H_:()=>F,gf:()=>G,jG:()=>eM,mP:()=>B,q_:()=>U,Fy:()=>h,e:()=>eP,re:()=>V,LO:()=>eA,OX:()=>eo,mY:()=>eC,l4:()=>q,b0:()=>g,mk:()=>ek,oF:()=>eX,mW:()=>E,LM:()=>ed,FO:()=>$,dm:()=>A,ej:()=>eO,Lj:()=>R,jC:()=>em,OK:()=>Y,m8:()=>eB,am:()=>o,uj:()=>eD,O7:()=>eE,b_:()=>eI,KY:()=>f,uM:()=>ef,ll:()=>ez,x7:()=>ey,j8:()=>eb,Q8:()=>k,dt:()=>y,Mc:()=>eT,XE:()=>p,Y_:()=>C,h3:()=>eR,Ni:()=>x,hd:()=>D,dr:()=>ea,bo:()=>eh,J:()=>u,N6:()=>O,z6:()=>S,$V:()=>el,Gl:()=>eW,wg:()=>_,pD:()=>m,XU:()=>ex,nU:()=>eF,bb:()=>ew,AX:()=>d});var s=a(616550),r=a(414471);let n=new RegExp(/^\/(?!(?:pin|categories|report|search|password|terms|discover|help|email|topics|explore|pw|login|signup|about|business|source|ideas|today|tv|shopping|videos|age-apeal|oauth)\/)[\w\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF\-]+\/(?!(?:following|followers|_tools|_created|_saved|tried))[\w\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF\-]+(?=\/|$)/);var i=a(215295);let o=e=>n.test(e.pathname),u=(e,t)=>{let{pathname:a}=e;return o(e)&&a.match(t||"?")},l=e=>{let{pathname:t}=e;return!!(0,s.LX)(t,{path:"/:username/:boardId/:boardSectionId",exact:!0})&&!t.match(/^\/.+\/.+\/(_tools)/i)},c=(e,t)=>{let{pathname:a}=e;return l(e)&&a.match(t||"?")},p=e=>!!(0,s.LX)(e.pathname,{path:"/board/:id/edit",exact:!0}),h=e=>!!(0,s.LX)(e.pathname,{path:"/board/:id/edit/collaborators",exact:!0}),d=e=>!!(0,s.LX)(e.pathname,{path:"/board/:id/edit/add_collaborators",exact:!0}),m=e=>!!(0,s.LX)(e.pathname,{path:"/boardsection/:id/edit",exact:!0}),b=e=>!!(0,s.LX)(e.pathname,{path:"/pin/:id/comments",exact:!0}),f=e=>!!(0,s.LX)(e.pathname,{path:"/pin/:id/edit",exact:!0}),g=e=>!!(0,s.LX)(e.pathname,{path:"/conversation/:id",exact:!0}),v=e=>!!(0,s.LX)(e.pathname,{path:"/appealed-pin/",exact:!0}),_=e=>!!(0,s.LX)(e.pathname,{path:"/reports-and-violations/",exact:!0}),y=e=>e.pathname.startsWith("/age-appeal"),x=e=>e.pathname.startsWith("/business/"),L=e=>!!(0,s.LX)(e.pathname,{path:"/business/business-access/:userBizId/dashboard",exact:!0})||!!(0,s.LX)(e.pathname,{path:"/business/business-manager/:userBizId/dashboard",exact:!0})||!!(0,s.LX)(e.pathname,{path:"/business/business-hierarchy/:businessHierarchyId/dashboard",exact:!0}),I=e=>!!(0,s.LX)(e.pathname,{path:"/business/business-hierarchy/:businessHierarchyId/hierarchy",exact:!0}),X=e=>!!(0,s.LX)(e.pathname,{path:"/business/business-hierarchy/:businessHierarchyId/dashboard",exact:!0}),W=e=>!!(0,s.LX)(e.pathname,{path:"/business/business-access/:userBizId/asset-groups",exact:!0})||!!(0,s.LX)(e.pathname,{path:"/business/business-manager/:userBizId/asset-groups",exact:!0}),E=e=>!!(0,s.LX)(e.pathname,{path:"/business/business-manager/:userBizId/catalogs",exact:!0}),Z=e=>!!(0,s.LX)(e.pathname,{path:"/business/catalogs/:userBizId/",exact:!1}),k=e=>!!(0,s.LX)(e.pathname,{path:"/business/business-access/:userBizId/shared-tags",exact:!0})||!!(0,s.LX)(e.pathname,{path:"/business/business-manager/:userBizId/shared-tags",exact:!0}),C=e=>!!(0,s.LX)(e.pathname,{path:"/business/business-access/:userBizId/brand-safety",exact:!0})||!!(0,s.LX)(e.pathname,{path:"/business/business-manager/:userBizId/brand-safety",exact:!0}),O=e=>!!(0,s.LX)(e.pathname,{path:"/business/business-hierarchy/:businessHierarchyId/business_security",exact:!0}),A=e=>!!(0,s.LX)(e.pathname,{path:"/business/business-hierarchy/:businessHierarchyId/managers",exact:!0}),S=e=>!!(0,s.LX)(e.pathname,{path:"/business/business-hierarchy/:businessHierarchyId/"})||!!(0,s.LX)(e.pathname,{path:"/business/business-access/:businessId/"})||!!(0,s.LX)(e.pathname,{path:"/business/business-manager/:businessId/"})||!!(0,s.LX)(e.pathname,"/business/business-manager"),w=e=>!!(0,s.LX)(e.pathname,{path:"/business/business-access/:businessId/invoice-management",exact:!0})||!!(0,s.LX)(e.pathname,{path:"/business/business-manager/:businessId/invoice-management",exact:!0}),R=e=>!!(0,s.LX)(e.pathname,{path:"/business/business-access/:businessId/audiences",exact:!0})||!!(0,s.LX)(e.pathname,{path:"/business/business-manager/:businessId/audiences",exact:!0}),F=e=>!!(0,s.LX)(e.pathname,{path:"/business/business-access/:businessId/security",exact:!0})||!!(0,s.LX)(e.pathname,{path:"/business/business-manager/:businessId/security",exact:!0}),P=e=>!!(0,s.LX)(e.pathname,{path:"/business/business-manager/:businessId/ad-accounts/cee-migration",exact:!0}),M=e=>e.pathname.startsWith("/business/invite/"),B=e=>!!(0,s.LX)(e.pathname,{path:"/pin/:id/visual-search/",exact:!0}),D=e=>!!(0,s.LX)(e.pathname,{path:"/pin/:id/visual-search/products/",exact:!0}),T=e=>"/"===e.pathname,N=e=>"/"===e.pathname||"/homefeed/"===e.pathname,z=e=>e.pathname.startsWith("/login"),H=e=>e.pathname.startsWith("/invited"),j=e=>!!(0,s.LX)(e.pathname,{path:"/today",exact:!0}),V=e=>e.pathname.startsWith("/password/reset")||!!(0,s.LX)(e.pathname,{path:"/pw/:username",exact:!0}),$=e=>e.pathname.startsWith("/secure/panic"),G=e=>e.pathname.startsWith("/signup"),Y=e=>e.pathname.startsWith("/email/subscription"),U=e=>e.pathname.startsWith("/email/user_survey"),J=e=>e.pathname.startsWith("/email_verification_error"),q=e=>e.pathname.startsWith("/notifications/"),Q=e=>!!(0,s.LX)(e.pathname,{path:"/pin/:id",exact:!0}),K=e=>e.pathname.startsWith("/pin_redirect"),ee=e=>e.pathname.startsWith("/search"),et=e=>!!(0,s.LX)(e.pathname,{path:"/ideas",exact:!0}),ea=e=>!!(0,s.LX)(e.pathname,{path:"/ideas/:interest/:id",exact:!0}),es=e=>et(e)||ea(e),er=e=>!!(0,s.LX)(e.pathname,{path:"/videos/:category/:id",exact:!0}),en=e=>!!(0,s.LX)(e.pathname,{path:"/videos/",exact:!0}),ei=e=>!!(0,s.LX)(e.pathname,{path:"/shopping/",exact:!0}),eo=e=>!!(0,s.LX)(e.pathname,{path:"/shopping/:category/:id",exact:!0}),eu=e=>ei(e)||eo(e),el=e=>e.pathname.startsWith("/topics"),ec=e=>e.pathname.startsWith("/today/article/")||e.pathname.startsWith("/today/best/")||e.pathname.startsWith("/today/trending/"),ep=e=>e.pathname.startsWith("/today/shop/"),eh=e=>j(e)||ec(e)||e.pathname.startsWith("/today/popular/"),ed=e=>/^\/discover\/article\/\S+\/?/i.test(e.pathname),em=e=>e.pathname.startsWith("/pin/create/"),eb=e=>e.pathname.startsWith("/unauth-profile"),ef=e=>e.pathname.startsWith("/pin/"),eg=e=>"#imgViewer"===e.hash,ev=e=>/invite_code/.test(e.search),e_=e=>!!(0,s.LX)(e.pathname,{path:"/pin/:id",exact:!1})&&(e.pathname.includes("/sent/")||e.pathname.includes("/feedback/")),ey=e=>e.pathname.includes("/repin/x"),ex=e=>!!(0,s.LX)(e.pathname,{path:"/pin/:id/repin"})&&!ey(e),eL=e=>e.pathname.startsWith("/_/storyboard"),eI=e=>e.pathname.startsWith("/oauth"),eX=e=>e.pathname.startsWith("/app-factory-oauth"),eW=e=>e.pathname.startsWith("/business/convert"),eE=e=>e.pathname.startsWith("/pin-editor"),eZ=e=>e.pathname.startsWith("/pin-builder"),ek=e=>e.pathname.startsWith("/idea-ads-tool"),eC=e=>e.pathname.startsWith("/story-pin-builder")||e.pathname.startsWith("/idea-pin-builder")||e.pathname.startsWith("/pin-creation-tool")||ek(e),eO=e=>e.pathname.startsWith("/settings"),eA=e=>void 0!==e.pathname&&(e.pathname.startsWith("/business/business-access/")||e.pathname.startsWith("/business/business-manager/"))&&e.pathname.includes("/dashboard/"),eS=e=>void 0!==e.pathname&&e.pathname.startsWith("/tv/studio"),ew=e=>void 0!==e.pathname&&e.pathname.startsWith("/business/commerce-integrations/"),eR=e=>void 0!==e.pathname&&e.pathname.startsWith("/business/hub"),eF=e=>void 0!==e.pathname&&e.pathname.startsWith("/signup/sso-business-account/"),eP=(e,t)=>r.Wr(t,"2025-02-08","mweb_notif_settings_redesign")?e.pathname.startsWith("/settings"):e.pathname.startsWith("/settings")&&!e.pathname.startsWith("/settings/notifications"),eM=e=>void 0!==e.pathname&&!!(0,s.LX)(e.pathname,{path:"/advertiser/:id/ads/edit/",exact:!0}),eB=e=>void 0!==e.pathname&&!!(0,s.LX)(e.pathname,{path:"/advertiser/:id/ads/edit_draft/",exact:!0}),eD=e=>void 0!==e.pathname&&!!(0,s.LX)(e.pathname,{path:"/advertiser/:id/ads/duplicate/",exact:!0}),eT=e=>void 0!==e.pathname&&!!(0,s.LX)(e.pathname,{path:"/advertiser/:id/ads/bulk_edit/",exact:!0}),eN=e=>!!(0,s.LX)(e.pathname,{path:"/collage-creation-tool/",exact:!0}),ez=({url:e="",state:t=null}={})=>{let a=(0,i.Z)(e);return{pathname:a.path,search:a.query,hash:a.anchor,state:t}}},414471:function(e,t,a){a.d(t,{Wr:()=>n});var s=a(603316);let r=(e,t)=>{switch(t){case 2025:return e.checkExperiment("notifications_holdout_2025").group;case 2026:return e.checkExperiment("notifications_holdout_2026").group;case 2027:return e.checkExperiment("notifications_holdout_2027").group;case 2028:return e.checkExperiment("notifications_holdout_2028").group;default:return""}},n=(e,t,a)=>{let n=new Date(Date.parse(t)),i=n.getFullYear(),o=n.getMonth()+1,u=o<7?"h1":"h2",l=new Date(Date.now()),c=l.getMonth()+1,p=l.getFullYear(),h=p-1,d=`notifications_holdout_${h}`,m=`notifications_holdout_${p}`;if(i<h||i===h&&c>=2||i===h&&o<=6)return(0,s.nP)("in_notifications_older_holdout_group",{sampleRate:1,tags:{source:a}}),!1;let b=r(e,p)||"",f=r(e,h)||"";if(""!==b&&(0,s.nP)("in_notifications_holdout_group.info",{sampleRate:1,tags:{exp_name:m,exp_group:b,source:a}}),""!==f&&(0,s.nP)("in_notifications_holdout_group.info",{sampleRate:1,tags:{exp_name:d,exp_group:f,source:a}}),1===c||7===c){if(1===c){if(i===h&&"h2"===u)return f.startsWith(`holdout_${u}`);if(i===p&&1===o&&(f.startsWith("holdout_h2")||f.startsWith("production_h2")))return!0}if(7===c){if(i===p&&"h1"===u)return b.startsWith(`holdout_${u}`);if(i===p&&7===o&&(b.startsWith("holdout_h1")||b.startsWith("production_h1")))return!0}}return!!(c>=1&&c<=6&&b.includes("h1")||c>=7&&c<=12&&b.includes("h2"))&&b.startsWith(`holdout_${u}`)}},536652:function(e,t,a){a.d(t,{U:()=>p,b:()=>h});var s=a(575108),r=a(399573),n=a(440568),i=a(849233),o=a(72918),u=a(82347),l=a(954300);function c({addSuspenseResourceSSRData:e,fetchOptions:t,resource:a,resourceCreator:p,retry:h}){return async(m,b)=>{let{bookmark:f,headers:g,options:v,refresh:_,schema:y}=t,x=(0,n.Z)(v);if(b().resources?.[a]?.[x]?.fetching&&!h)return Promise.resolve();let L=h?h.bookmark:f,I=(0,r.Z)(v),X=L?{...I,bookmarks:[L]}:I;m((0,o.LQ)(a,v,!0));try{let r,n,b=p??s.Z.create,x=await b(a,X).callGet(void 0,g);e&&d(x)&&e(a,X,x),d(x)||(r=x.bookmarks?.[0]);let{data:L}=x.resource_response,{normalizedResponse:I,resourceSchema:W}=(0,l.f)({data:L,opts:{bookmark:f,options:v,schema:y},resource:a});if(d(x)){r=x.resource_response.bookmark??"";let e=(0,u.Z)(x);I=e.normalizedResponse,W=e.schema,n=e.response}else n=x;if(Array.isArray(L)&&0===L.length&&r&&r!==i.qx){let e=h?h.count:0;if(!(e>=i.s9))return m(c({resource:a,fetchOptions:t,retry:{count:e+1,bookmark:r},resourceCreator:p}))}n&&(f?(m((0,o.Dm)(a,v,n,I,W)),s.Z.fetchMoreCompleteCallback&&s.Z.fetchMoreCompleteCallback({resource:a,options:v,response:n,normalizedResponse:I,refresh:_,resourceSchema:W})):(m((0,o.Sr)(a,v,n,I,_,W)),s.Z.fetchCompleteCallback&&s.Z.fetchCompleteCallback({resource:a,options:v,response:n,normalizedResponse:I,refresh:_,resourceSchema:W})))}catch(t){if(e){let s=t.http_status??500;e(a,v,{resource:{name:a,options:v},resource_response:{data:null,error:t,http_status:s,status:"failure"}})}m((0,o.Tl)(a,v,t))}}}let p=(e,{bookmark:t,headers:a,options:s,schema:r},n,i)=>c({resource:e,fetchOptions:{bookmark:t,headers:a,options:s,refresh:!1,schema:r},resourceCreator:n,addSuspenseResourceSSRData:i}),h=(e,{headers:t,options:a,schema:s},r)=>c({resource:e,fetchOptions:{headers:t,options:a,refresh:!0,schema:s},resourceCreator:r});function d(e){return"resource"in e}},82347:function(e,t,a){a.d(t,{Z:()=>i});var s=a(782677),r=a(24315),n=a(954300);function i(e){let{resource:t,resource_response:a}=e,{name:i,options:o}=t,u=(0,r.Z)(a),{data:l,error:c}=a,p=(0,n.J)(i,{options:o});return{error:c,isRefresh:!1,normalizedResponse:p&&l?(0,s.Fv)(l,p):null,options:o,resource:i,response:{auxData:u,bookmarks:a.bookmark?[a.bookmark]:void 0,resource_response:{data:l,error:c}},schema:p}}},943257:function(e,t,a){a.d(t,{Z:()=>h});var s=a(667294),r=a(581722),n=a(616550),i=a(440568),o=a(15667),u=a(536652),l=a(849233),c=a(707079),p=a(791948);function h(e,t,a){let{enabledRouteRefresh:h,headers:d,name:m,noCache:b,options:f,schema:g}=e,v=(0,c.MA)(),_=(0,p.vL)(),y=(0,r.I0)(),x=(0,i.Z)(f),L=(0,s.useRef)(void 0),I=(0,n.k6)(),X=I&&"POP"!==I.action,W=(0,s.useRef)(void 0),E=e=>e[m]?.[x],Z=(0,r.v9)(({resources:e})=>E(e)?.data),k=(0,r.v9)(({resources:e})=>E(e)?.error),C=!!k||void 0!==Z,O=(0,r.v9)(({resources:e})=>!!E(e)?.fetching),A=(0,r.v9)(({resources:e})=>E(e)?.nextBookmark),S=C&&!O&&A===l.qx,w=!!(C&&h&&X&&!t),[R,F]=(0,s.useState)(w),P=R;(0,r.wU)(Z,W.current)||(R&&(W.current||!w)&&(P=!1,F(!1)),W.current=Z);let M=(0,s.useCallback)(e=>{let t=y((0,u.U)(m,{options:f,schema:g,bookmark:e,headers:d},_,void 0));e||v?.add(m,x,t)},[y,m,x,g,d]),B=(0,s.useCallback)(()=>{let e=y((0,u.b)(m,{options:f,schema:g,headers:d},_));v?.add(m,x,e)},[y,m,x,g,d]),D=(0,s.useCallback)(()=>{t||(B(),F(!0))},[t,B]),T=(0,s.useCallback)(()=>{!A||S||O||t||M(A)},[t,M,S,O,A]),{isBot:N}=(0,o.B)(),z=(0,s.useCallback)(()=>{if(!(O||v?.get(m,x))&&!t&&L.current!==x){let e=void 0===L.current;L.current=x,!C||a&&e&&k&&(({httpStatus:e})=>!e||e>=500)(k)?M():(!N&&b||w)&&B()}},[a,M,B,t,k,N,O,C,w,m,b,x,v]),H=(0,s.useMemo)(()=>({name:m,optionsKey:x}),[m,x]);return(0,s.useMemo)(()=>({fetchResource:z,ref:H,refresh:D,fetchMore:T,isFetching:O,isLoaded:C,isRefreshing:P}),[T,z,O,C,H,P,D])}(0,a(512395).kr)()},886981:function(e,t,a){a.d(t,{Z:()=>u});var s=a(667294),r=a(581722),n=a(440568),i=a(849233),o=a(943257);function u(e){let{enabledRouteRefresh:t,headers:a,name:u,noCache:l,options:c,schema:p}=e??{name:i.fY,options:null},h=(0,n.Z)(c),d=e=>e[u]?.[h],m=(0,r.v9)(({resources:e})=>d(e)?.nextBookmark),b=(0,r.v9)(({resources:e})=>d(e)?.data),f=(0,r.v9)(({resources:e})=>d(e)?.auxData),g=(0,r.v9)(({resources:e})=>d(e)?.error),{fetchResource:v,fetchMore:_,isFetching:y,isLoaded:x,isRefreshing:L,refresh:I}=(0,o.Z)({enabledRouteRefresh:t,headers:a,name:u,noCache:l,options:c,schema:p},!e,!0),X=x&&!y&&m===i.qx;return(0,s.useEffect)(()=>{v()}),(0,s.useMemo)(()=>({auxData:f,data:b,error:g,fetchMore:_,isAtEnd:X,isFetching:y,isLoaded:x,isRefreshing:L,nextBookmark:m,refresh:I}),[f,b,g,_,X,y,x,L,m,I])}},417245:function(e,t,a){a.d(t,{Z:()=>n});var s=a(97517);let r=/\{\{\s*(\w+)\s*\}\}/g,n=(e,t)=>(0,s.Z)(r,e,t)},897833:function(e,t,a){a.d(t,{Z:()=>s});let s=e=>e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\"/g,"&quot;").replace(/\'/g,"&#39;")},97517:function(e,t,a){a.d(t,{Z:()=>s});let s=(e,t,a)=>t?t.replace(e,(e,t)=>a&&Object.prototype.hasOwnProperty.call(a,t)?a[t]:""):""},473728:function(e,t,a){a.d(t,{Z:()=>n});var s=a(417245),r=a(897833);let n=(e,t)=>{let a={};return Object.keys(t).forEach(e=>{a[e]=t[e]?(0,r.Z)(t[e].toString()):""}),(0,s.Z)(e,a)}},324307:function(e,t,a){a.d(t,{ZP:()=>r,mP:()=>s});let s="â€¦";function r(e,t=80,a=s,n=!1){let i;if(!e)return"";if(e.length<=t)return e;if(" "!==e[t-1]&&" "===e[t]||n)i=e.substring(0,t);else{let a=e.lastIndexOf(" ",t);i=e.substring(0,a)}return(i=i.replace(/[\- _,.<>:;+=*&@~\/\|!]*$/,""))+a}},974705:function(e,t,a){a.d(t,{Z:()=>s});function s(e){return e.replace(/[_.-](\w|$)/g,(e,t)=>t.toUpperCase())}},87853:function(e,t,a){a.d(t,{Zo:()=>s,dI:()=>r});let{Provider:s,get:r}=(0,a(729434).Z)("toastManagerContext")},792171:function(e,t,a){a.d(t,{H:()=>l,W:()=>c});var s=a(667294),r=a(980787),n=a(729434),i=a(274320),o=a(785893);let{Provider:u,get:l}=(0,n.Z)("VideoPlayer");function c({children:e}){let{logContextEvent:t,logImpression:a}=(0,r.u)(),{checkExperiment:n}=(0,i.r)(),[l,c]=(0,s.useState)(!1),[p,h]=(0,s.useState)([]),[d,m]=(0,s.useState)([]),[b,f]=(0,s.useState)({}),g=n("web_ads_mrc_video_impression").anyEnabled,v=e=>{f(t=>({...t,[e]:!0}))},_=(0,s.useCallback)(e=>{if(18===e.event_type&&e.event_data?.pinImpressions?.length){let{isNativeVideoAndWatchable:t}=e.event_data.pinImpressions[0],a=JSON.stringify(e.aux_data?.commerce_data||"").includes("story_pin_id");g&&(t||a)&&h(t=>[...t,e].slice(-1e3))}},[g]),y=(0,s.useCallback)(e=>{18===e.eventType&&g&&m(t=>[...t,e].slice(-1e3))},[g]);(0,s.useEffect)(()=>{let e=p.filter(e=>{let{pinIdStr:a}=e.event_data.pinImpressions[0];return!b[a]||!g||(t((e=>{let{time:t}=e.event_data.pinImpressions[0];return{...e,event_data:{...e.event_data,pinImpressions:[{...e.event_data.pinImpressions[0],isMrcBtr:!0,endTime:t,renderDuration:0}]}}})(e)),!1)});e.length!==p.length&&h(e)},[p,g,t,b]),(0,s.useEffect)(()=>{let e=d.filter(e=>{let t=e.eventData?.pinIdStr;if(!t)return!1;if(b[t]&&g){let t=(e=>{if(e.eventData){let{time:t}=e.eventData;return{...e,eventData:{...e.eventData,isMrcBtr:!0,endTime:t??0}}}return null})(e);return t&&a(t),!1}return!0});e.length!==d.length&&m(e)},[d,g,a,b]);let x=(0,s.useMemo)(()=>({captionsEnabled:l,logMrcVideoAdImpressionOnPlay:y,logMrcVideoAdEventOnPlay:_,setCaptionsEnabled:c,setVideoPlayed:v,videosPlayed:b}),[l,_,y,b]);return(0,o.jsx)(u,{value:x,children:e})}},821651:function(e,t,a){a.d(t,{r:()=>g,W:()=>f});var s=a(667294),r=a(729434),n=a(821342),i=a(886981),o=a(295317),u=a(121836),l=a(238589),c=a(974705);let p=e=>{let t={};for(let a in e)Object.prototype.hasOwnProperty.call(e,a)&&("object"!=typeof e[a]||null===e[a]||Array.isArray(e[a])?t[(0,c.Z)(a)]=e[a]:t[(0,c.Z)(a)]=p(e[a]));return t},h={profiles:new Map,headerVisible:!1,orbacVisibility:!1,activeProfile:void 0,disableProfileChanger:!1},d=(e,t)=>{switch(t.type){case"LOAD_PROFILES":return{...e,profiles:t.payload};case"SET_ACTIVE_PROFILE":return{...e,activeProfile:t.payload};case"TOGGLE_HEADER_VISIBILITY":return{...e,headerVisible:t.payload};case"TOGGLE_ORBAC_VISIBILITY":return{...e,orbacVisibility:t.payload};case"TOGGLE_DISABLE_PROFILE_CHANGER":return{...e,disableProfileChanger:t.payload};default:return e}};var m=a(785893);let{Provider:b,getMaybe:f}=(0,r.Z)("RoleBasedAccessControlContext"),g=({children:e})=>{let t=(0,n.Z)(),a=!!(t.isAuth&&t.isPartner),{state:r,actions:c,receiveProfiles:f}=(e=>{let[t,a]=(0,s.useReducer)(d,h),r=(({dispatch:e,isEnabled:t,state:a})=>{let{orbacVisibility:r,disableProfileChanger:n,headerVisible:i}=a,o=(0,s.useCallback)(a=>{t&&e({type:"SET_ACTIVE_PROFILE",payload:a})},[t,e]);return{changeProfile:o,toggleORBACVisibility:(0,s.useCallback)(a=>{t&&e({type:"TOGGLE_ORBAC_VISIBILITY",payload:a??!r})},[t,e,r]),toggleDisableProfileChanger:(0,s.useCallback)(a=>{t&&e({type:"TOGGLE_DISABLE_PROFILE_CHANGER",payload:a??!n})},[t,e,n]),toggleHeaderVisibility:(0,s.useCallback)(a=>{t&&e({type:"TOGGLE_HEADER_VISIBILITY",payload:a??!i})},[t,e,i])}})({dispatch:a,isEnabled:e,state:t}),{activeProfile:n,orbacVisibility:i}=t;return(0,s.useEffect)(()=>{let e=(0,l.Nl)().getItem(u.Zo)||!1;e&&a({type:"SET_ACTIVE_PROFILE",payload:e})},[]),(0,s.useEffect)(()=>{let e=(0,l.Nl)().getItem(u.ig)||!1;e&&a({type:"TOGGLE_ORBAC_VISIBILITY",payload:e})},[]),(0,s.useEffect)(()=>{(0,l.Nl)().setItem(u.ig,i)},[i]),(0,s.useEffect)(()=>{(0,l.Nl)().setItem(u.Zo,n)},[n]),{state:t,actions:r,receiveProfiles:(0,s.useCallback)((e,t)=>{a({type:"LOAD_PROFILES",payload:((e,t)=>{let a=[];for(let s in e)s!==t&&a.push({id:s,...p(e[s])});let s=a.sort(({user:{businessName:e}},{user:{businessName:t}})=>e.localeCompare(t)),r=new Map;for(let e of s)r.set(e.id,e);return r})(e,t)})},[a])}})(a),{activeProfile:g,headerVisible:v,profiles:_}=r,y=(0,s.useMemo)(()=>_?Array.from(_.values()):[],[_]),x=(0,o.Z)(y),L=!!t.isAuth&&y.length>0&&x,I=t.isAuth?t.id:"",X=t.isAuth?t.username:"",{changeProfile:W,toggleORBACVisibility:E,toggleDisableProfileChanger:Z,toggleHeaderVisibility:k}=c;(0,s.useEffect)(()=>{if(a){if("string"==typeof x)return void W(x);g||W(I)}},[x,I,a,W,g]),(0,s.useEffect)(()=>{a&&(L&&!v&&k(!0),!L&&v&&k(!1))},[k,L,a,v,_]);let{data:C}=(0,i.Z)(a?{name:"ApiResource",options:{url:"/vx/business_access/profiles/",disable_auth_failure_redirect:!0}}:null),O=C?.profiles,A=(0,s.useMemo)(()=>t&&t.isAuth&&g===t.id?{id:t.id,permissions:["OWNER"],user:{username:X,businessName:t.fullName,imgUrl:t.imageSmallUrl}}:g&&_?_.get(g):void 0,[g,_,t,X]);(0,s.useEffect)(()=>{O&&f(O,I)},[f,O,I]);let S=(0,s.useMemo)(()=>({profiles:y,headerVisible:v,activeProfile:A,changeProfile:W,toggleORBACVisibility:E,toggleDisableProfileChanger:Z,toggleHeaderVisibility:k}),[y,v,A,W,E,Z,k]);return(0,m.jsx)(b,{value:S,children:e})}},448505:function(e,t,a){a.d(t,{Z:()=>u});var s=a(667294),r=a(274320),n=a(821651),i=a(295317);let o=Object.freeze({}),u=()=>{let{checkExperiment:e}=(0,r.r)(),t=(0,n.W)(),{activeProfile:a}=t||{},u=(0,i.Z)(t?.profiles||[]),{anyEnabled:l}=e("useorbacroutematcher_in_useorbacactingas");return(0,s.useMemo)(()=>l&&!u?o:a&&(a.viewerMeetsMfaRequirement||(a.permissions||[]).includes("OWNER"))?a:o,[l,u,a])}},295317:function(e,t,a){a.d(t,{Z:()=>o});var s=a(616550),r=a(821342),n=a(506662),i=a(169053);let o=e=>{let t=(0,s.TH)(),a=(0,r.Z)(),o=(0,i.S6)(),u=(0,s.$B)("/:username"),l=u?.params?.username,c=(0,s.$B)("/pin/:id"),p=!!c?.params?.id&&o(c.params.id)?.pinner?.id;if((0,n.ej)(t))return!1;if((0,n.RU)(t)||(0,n.mY)(t))return!0;let h=e.concat(a.isAuth?{user:{username:a.username},id:a.id}:{}).find(e=>{if(!e)return!1;let{user:t,id:a}=e;return(!!t&&"username"in t&&!!t.username&&!!l||!!p&&!!a)&&(t.username===l||p===a)});return!!h&&h.id}},7872:function(e,t,a){a.d(t,{D3:()=>p,DX:()=>l,Fk:()=>s,KY:()=>h,Ms:()=>r,N1:()=>d,_P:()=>u,gJ:()=>n,lJ:()=>o,nl:()=>i,q6:()=>c});let s=(e,t)=>{let a=e&&e.isAuth?e.fullName:"";return e&&t&&t.user&&t.user.businessName&&(a=t.user.businessName),a},r=(e,t)=>{let a=e&&e.isAuth?e.username:"";return e&&t&&t.user&&t.user.username&&(a=t.user.username),a},n=(e,t)=>{let a=e&&e.isAuth?e.imageMediumUrl:"";return e&&t&&t.user&&t.user.imgUrl&&(a=t.user.imgUrl),a},i=(e,t)=>!!(t&&t.user&&e&&e.isAuth&&t.id!==e.id?t.user.eligibleForStlTool:e&&e.isAuth&&e.eligibleForStlTool),o=(e,t)=>e&&e.isAuth&&t&&t.id&&t.id!==e.id?t.id:"",u=(e,t,a)=>a&&a.user&&t&&t.isAuth&&a.id!==t.id?a.user.merchantId:e.advertiser?.merchant_id,l=(e,t,a)=>a&&a.user&&e.isAuth&&a.id!==e.id?a.user.scheduledPinCount||0:e.isAuth&&t&&t.scheduled_pin_count||0,c=(e,t,a)=>!!(e&&e.isAuth&&a&&a.id&&a.id!==e.id&&a.id===t),p=(e,t,a)=>!!(c(e,t,a)||e&&e.isAuth&&t===e.id),h=(e,t,a)=>p(e,t&&t.owner&&t.owner.id||"",a);function d(e,t,a){return p(e,t?t.id:"",a)}},25837:function(e,t,a){a.d(t,{WZ:()=>o,NW:()=>l,hu:()=>r,Rz:()=>p,cI:()=>n,L1:()=>i,OZ:()=>c,fe:()=>u});var s=a(20256);let r=64,n=80,i=24,o="HeaderContent",u=671,l=new s.Ry(u),c="NagHeaderContent",p={boxShadow:"0px 8px 8px -8px rgba(0, 0, 0, 0.1)",transition:"box-shadow 300ms ease-in-out"}},954300:function(e,t,a){a.d(t,{J:()=>n,f:()=>i});var s=a(782677),r=a(388023);let n=(e,{bookmark:t,options:a,schema:s})=>{let n=s||r.Z[e];return"function"==typeof n?n({resource:e,options:a,bookmark:t}):n};function i({data:e,opts:{bookmark:t,options:a,schema:r},resource:i}){let o=n(i,{bookmark:t,options:a,schema:r});return{normalizedResponse:o&&e?(0,s.Fv)(e,o):null,resourceSchema:o}}},469526:function(e,t,a){a.d(t,{B:()=>l,m:()=>u});var s=a(667294),r=a(616550),n=a(729434),i=a(785893);let{Provider:o,getMaybe:u}=(0,n.Z)("NotifDetailRepinContext");function l({children:e}){let[t,a]=(0,s.useState)(Object.freeze({})),[n,u]=(0,s.useState)(!1),[l,c]=(0,s.useState)(!1),p=(0,r.TH)(),h=(0,s.useMemo)(()=>{let e=/^\/pin\/\d+\/repin\/?$/,s=/^\/news_hub\/\d+\/?$/;return{isSaved:e=>!!t[e],save:e=>{l&&a(t=>({...t,[e]:!0}))},reset:()=>{let t=window?.location.pathname||"";s.test(t)||e.test(t)||(a(Object.freeze({})),u(!1),c(!1))},isInNewsHubQuickSaveExpAndNewsHubPage:()=>{let e=p.pathname||"";return s.test(e)&&n},inNewsHubQuickSaveExp:n,setInNotifDetailPage:c,setInNewsHubQuickSaveExp:u}},[t,n,l,p]);return(0,i.jsx)(o,{value:h,children:e})}},150381:function(e,t,a){a.d(t,{c:()=>r});var s=a(274320);function r(){let{checkExperiment:e}=(0,s.r)(),t=e("entrypoints_ideas_root_prefetch");switch(t.group){case"prefetch_all":return{preloadExtent:"Both"};case"prefetch_only_js":return{preloadExtent:"OnlyJS"};case"control":return{preloadExtent:"None"};default:{let{anyEnabled:e}=t;return{preloadExtent:e?"Both":"None"}}}}},438556:function(e,t,a){a.d(t,{Q:()=>u,n:()=>o});var s=a(667294),r=a(729434),n=a(785893);let{Provider:i,getMaybe:o}=(0,r.Z)("RepinContext");function u({children:e}){let[t,a]=(0,s.useState)(Object.freeze({})),r=(0,s.useMemo)(()=>({getSavedPinId:e=>t[e],isSaved:e=>!!t[e],save:(e,t)=>a(a=>({...a,[e]:t})),unsave:e=>a(t=>({...t,[e]:null}))}),[t]);return(0,n.jsx)(i,{value:r,children:e})}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/2205-2bd88dc40bf0e38e.mjs.map