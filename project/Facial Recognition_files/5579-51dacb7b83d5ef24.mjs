(self.modernJsonp=self.modernJsonp||[]).push([["5579"],{121366:function(e,s,t){t.d(s,{Z:()=>n});var a=t(667016);async function n(e,s){let{api:t}=(0,a.t)(),n=(0,a.u)();try{n.attempt("setMultipleBizEntityPropertiesFullUpdate",s);let a=new Date().getTime(),l=await t.put("/ads/v4/business_entities",e,!1);return n.success("setMultipleBizEntityPropertiesFullUpdate",s),n.latency("setMultipleBizEntityPropertiesFullUpdate",new Date().getTime()-a,s),l}catch(e){throw n.failure("setMultipleBizEntityPropertiesFullUpdate",s),e}}(0,a.u)()},21954:function(e,s,t){t.d(s,{m:()=>u,r:()=>c});var a=t(667294),n=t(729434),l=t(839626),o=t(274320),i=t(15667),r=t(886981),_=t(785893);let{Provider:d,get:u}=(0,n.Z)("PinRep");function c({children:e}){let{isAuthenticated:s}=(0,i.B)(),{checkExperiment:t}=(0,o.r)(),{experience:n}=(0,l.Ow)(1000069),[u,c]=(0,a.useState)(!0),[A,E]=(0,a.useState)(!1),[m,p]=(0,a.useState)(!1),[y,S]=(0,a.useState)(null),[T,I]=(0,a.useState)(null),f=(0,l.oS)(1000069),{anyEnabled:C}=t("ap_bmi_custom_activation_nux_revamp_mweb_v2",{dangerouslySkipActivation:!0}),O=(0,r.Z)(s&&C?{name:"UserStateResource",options:{state:"QUICK_SAVES_BOARD_ID"}}:null).data;(0,a.useEffect)(()=>{if(!s)return void c(!1);n&&(!n||n?.experience_id===500417&&n?.display_data.hide_footer)?f.viewExperience(1000069,500417):c(!1),E(!0)},[n]);let R=(0,a.useMemo)(()=>({hasMetSaveRequirementOnUseCaseFeed:m,hasSimplifiedPinGridExpLoaded:A,hidePinRepFooter:u,quickSaveBoardId:O,setHasMetSaveRequirementOnUseCaseFeed:p,setUseCaseFeedOriginalPinId:I,setUseCaseFeedRepinId:S,useCaseFeedOriginalPinId:T,useCaseFeedRepinId:y}),[m,A,u,O,p,I,S,T,y]);return(0,_.jsx)(d,{value:R,children:e})}},763208:function(e,s,t){t.d(s,{Z:()=>n});var a=t(821342);let n=()=>{let e=(0,a.Z)();return!!e.isAuth&&e.isPartner}},872799:function(e,s,t){t.d(s,{Oz:()=>a,mo:()=>o,nt:()=>l,v8:()=>n});let a={BUSINESS_ACCOUNT:"BUSINESS_ACCOUNT",BUSINESS_HIERARCHY:"BUSINESS_HIERARCHY",USER_ACCOUNT:"USER",AD_ACCOUNT:"AD_ACCOUNT",PROFILE:"PROFILE",CATALOG:"CATALOG"},n="BUSINESS_PANEL",l="ASSET_PANEL",o=500},184954:function(e,s,t){t.d(s,{lG:()=>b,FE:()=>M,NM:()=>g});var a=t(667294),n=t(616550),l=t(763208),o=t(414071),i=t(821342),r=t(603316),_=t(581722),d=t(407633),u=t(442279),c=t(514058);let A=(0,u.createSelector)(c.Z,({viewerIsProfileOwnerOrProfileManager:e})=>e??void 0);var E=t(448505),m=t(7872),p=t(217459),y=t(872799),S=t(980787),T=t(729434),I=t(506662),f=t(579275),C=t(274320),O=t(378888),R=t(358396),N=t(728759),h=t(785893);let{Provider:P,get:g}=(0,T.Z)("AccountSwitcherContext"),b=e=>e.search&&(0,O.mB)(e.search).advertiserId,M=({children:e})=>{let s=(0,n.TH)(),{params:{userBizId:t,businessHierarchyId:u,advertiserId:c,username:T}}=(0,n.$B)(),{catalogId:O}=(0,N.Z)(),g=b(s),M=(0,i.Z)(),{viewerIsProfileOwnerOrProfileManagerData:D,previousIsViewerProfileOwnerOrProfileManager:L}=(()=>{let e=(0,i.Z)(),s=(0,a.useRef)(e);s.current=e;let t=(0,_.I0)(),n=(0,E.Z)(),l=(0,a.useRef)(n);l.current=n;let r=(0,_.v9)(A),u=r?.data||void 0,c=(0,a.useRef)(u);c.current=u,(0,a.useEffect)(()=>{(async()=>{if(s.current.isAuth&&void 0===r.data){let e=await (0,o.bG)({user_id:s.current.id});if(void 0!==e&&void 0===c.current){let a=(0,m.D3)(s.current,e?.id??"",l)||s.current.isAuth&&s.current.username===e?.username;t((0,d.Z)(!!a))}}})()},[s,c,t,l,r]);let y=(0,p.rc)(u);return{viewerIsProfileOwnerOrProfileManagerData:u,previousIsViewerProfileOwnerOrProfileManager:y}})(),{checkExperiment:U}=(0,C.r)(),B=U("web_m10n_business_access_catalogs").anyEnabled,[v,z]=(0,a.useState)(""),[G,w]=(0,a.useState)(null),[H,F]=(0,a.useState)(!1),[Z,x]=(0,a.useState)(null),k=new URLSearchParams(s.search),[V,j]=(0,a.useState)(k.has("actingBusinessId")?null:{id:M.isAuth&&M.id||"",name:M.isAuth&&M.fullName||"",img:M.isAuth&&M.imageMediumUrl||""}),[$,K]=(0,a.useState)(!1),W=(0,l.Z)(),{logContextEvent:Y}=(0,S.u)(),{accountSwitcherConfig:q,setConfig:Q}=(()=>{let e=(0,i.Z)(),s=(0,l.Z)(),[t,n]=(0,a.useState)({isReady:!1}),_=(0,a.useCallback)(async({entityId:e,actingBusinessId:t,favorites:a})=>{s&&(await (0,o.yo)({entityId:e,actingBusinessId:t,favorites:a}),n(e=>{let s={...e,actingBusinessId:t};return a&&(s.favoriteAdAccounts={favoriteAdAccountsMap:{...e.favoriteAdAccounts?.favoriteAdAccountsMap||{},[a.actingBusinessId]:{advertiserId:a.adAccounts}}}),s}))},[s]);return(0,a.useEffect)(()=>{s&&e.isAuth&&!t.isReady&&(async()=>{let s=!1;try{let s=await (0,o.SF)({entityId:e.id});n(e=>({...e,...s}))}catch{s=!0}finally{(0,r.nP)("globalAccountSwitcher.getFavoriteAdAccounts",{sampleRate:1,tags:{businessId:e.id,hasError:s}}),n(e=>({...e,isReady:!0}))}})()},[t.isReady,s,e]),{accountSwitcherConfig:t,setConfig:_}})();(0,a.useEffect)(()=>{u?z(u):z("")},[u]);let J=(0,a.useCallback)(async({id:e,username:s})=>{let t=await (0,o.bG)({user_id:e,username:s});t&&x({type:e?y.Oz.BUSINESS_ACCOUNT:y.Oz.PROFILE,id:e||t.id,name:t.full_name,img:t.image_medium_url,username:s,ownerImg:t.image_medium_url,ownerName:t.full_name,actingBusinessFullName:V?.name||t.full_name}),K(!1)},[V]),X=(0,p.rc)(T);(0,a.useEffect)(()=>{let e=M.isAuth?M.username:void 0;(0,f.Z)(s)&&Z&&X!==T&&T===e&&(J({username:e}),j({id:M.isAuth&&M.id||"",name:M.isAuth&&M.fullName||"",img:M.isAuth&&M.imageMediumUrl||""}),w({type:y.nt,id:M.isAuth?M.id:void 0}))},[s,X,J,Z,T,M]),(0,a.useEffect)(()=>{let e=async({businessId:e,assetId:t})=>{if(!e)return void K(!1);let a=B&&(0,I.Bg)(s)?"CATALOG":"AD_ACCOUNT";try{let e={asset:{name:""},type:a};if(M.isAuth){let{data:{data:s={[t]:e}}={}}=await (0,R.pI)({businessId:V?.id||M.id,assetIds:[t],resourceType:a})||{},{asset:n,type:l}=s[t]||e;x({id:t,name:"CATALOG"===a?s[t].owner.full_name:n.name,img:s[t].owner.image_medium_url,type:l,ownerImg:s[t].owner.image_medium_url,ownerName:s[t].owner.full_name,actingBusinessFullName:V?.name||s[t].owner.full_name})}}catch{x({id:M.isAuth&&M.id||"",name:M.isAuth&&M.fullName||"",img:M.isAuth&&M.imageMediumUrl||"",type:y.Oz.BUSINESS_ACCOUNT,ownerImg:M.isAuth&&M.imageMediumUrl||"",ownerName:M.isAuth&&M.fullName||"",actingBusinessFullName:M.isAuth&&M.fullName||""})}K(!1)},a=async({id:e})=>{let s=await (0,o.p)({hierarchyId:e});x({id:e,name:s?.data?s.data.name:"",img:s?.data?s.data.img_medium_url:"",type:y.Oz.BUSINESS_HIERARCHY,ownerImg:s?.data?s.data.img_medium_url:"",ownerName:s?.data?s.data.name:"",actingBusinessFullName:s?.data?s.data.name:""}),K(!1)};if(M.isAuth&&W){let n=Z&&Z.username&&Z.username!==T,l=!0===D&&D!==L;if((!Z||n||l)&&!$&&V){let n=(0,I.z6)(s)||(0,I.h3)(s),l=c||!!g&&!n||(0,I.Bg)(s)&&B;K(!0),u?a({id:u}):t?J({id:t}):(0,f.Z)(s)&&T&&D?J({username:T}):l?e({businessId:M.id,assetId:c||g||O||""}):Z&&Z.id===M.id||(x({type:y.Oz.BUSINESS_ACCOUNT,id:M.id||"",name:M.fullName||"",img:M.imageMediumUrl||"",ownerImg:M.imageMediumUrl||"",ownerName:M.fullName||"",actingBusinessFullName:M.fullName||""}),K(!1))}}},[Z,M,u,t,T,c,g,V,W,s,J,$,D,L,O,B]);let ee=(0,a.useMemo)(()=>({activePanel:G,selectedHierarchyId:v,switcherOpen:H,openAccountSwitcher:()=>{if(Y({event_type:101,view_type:608,component:14346}),!G)if((0,I.z6)(s))w({type:y.v8});else{let e=new URLSearchParams(s.search).get("actingBusinessId");w({type:y.nt,id:e??V?.id})}F(!0)},closeAccountSwitcher:()=>{w(Z&&!(0,I.z6)(s)?{type:y.nt,id:V?.id}:{type:y.v8}),F(!1)},openAssetPanel:e=>{w({type:y.nt,id:e})},closeAssetPanel:()=>{w(Z&&!(0,I.z6)(s)?{type:y.nt,id:V?.id}:{type:y.v8})},activateBusinessPanel:()=>{w({type:y.v8})},actingBusiness:V,selectedAccount:Z,setSelectedAccount:x,setActingBusiness:j,accountSwitcherConfig:q,setConfig:Q}),[G,v,H,V,Z,q,Q,Y,s]);return(0,h.jsx)(P,{value:ee,children:e})}},77168:function(e,s,t){t.d(s,{H:()=>S,g:()=>y});var a=t(667294),n=t(763208),l=t(872799),o=t(414071),i=t(785873),r=t(86295),_=t(789877),d=t(729434),u=t(686319),c=t(821342),A=t(805205),E=t(572257),m=t(785893);let{Provider:p,get:y}=(0,d.Z)("BusinessHierarchyContext"),S=({children:e})=>{let[s,t]=(0,a.useState)([]),[d,y]=(0,a.useState)([]),[S,T]=(0,a.useState)(!1),[I,f]=(0,a.useState)(!1),[C,O]=(0,a.useState)(null),[R,N]=(0,a.useState)(null),[h,P]=(0,a.useState)([]),[g,b]=(0,a.useState)({}),M=(0,E.Z)(),D=(0,a.useRef)(M),L=(0,c.Z)(),U=(0,n.Z)(),B=(0,a.useRef)({}),v=(0,a.useCallback)((e,s)=>{let t;s===l.Oz.BUSINESS_HIERARCHY?t=(0,_.Z)(r.Q6.DASHBOARD,"","",e):s===l.Oz.BUSINESS_ACCOUNT&&(t=(0,_.Z)(r.Q6.DASHBOARD,e));let a=(0,A.Z)({site:"www",path:t});(0,i.Z)(a)},[]),z=L.isAuth,{id:G="",username:w="",email:H="",fullName:F="",imageSmallUrl:Z="",imageMediumUrl:x="",isAuth:k}=L.isAuth?L:{id:"",username:"",email:"",fullName:"",imageSmallUrl:"",imageMediumUrl:""},V=(0,a.useCallback)(async e=>{if(!U)return[];if(f(!0),B.current[e])return f(!1),B.current[e];{let{data:s}=(await (0,u.Z)({url:"ads/v4/business_access/business_hierarchies/",data:{search_by:["FULL_NAME","BUSINESS_ID"],search_value:e}})).resource_response,t=s&&s.map(e=>(e.children&&(e.children=e.children.map(e=>(e.user.entity_type=l.Oz.USER_ACCOUNT,e))),e))||[],a=/^\d+$/.test(e),n=RegExp(e.toLowerCase(),"g"),i=[];R||N(i=await D.current());let r=(R??i).filter(s=>a?s.id.includes(e):s.user.full_name.toLowerCase().match(n)).map(o.IT),_=[...t.map(e=>e.id),...r.map(e=>e.id)];return z&&(a?(G||"").includes(e):(F||"").toLowerCase().match(n))&&_.push(G),B.current[e]=_,f(!1),_}},[U,D,z,G,F,R]),j=async(e,s)=>{if((!k||!U||R)&&!e)return;T(!0);let a=[];try{let{data:e}=(await (0,u.Z)({url:"ads/v4/business_access/business_hierarchies/"})).resource_response;a=e&&e.map(e=>(e.children&&(e.children=e.children.map(e=>(e.user.entity_type=l.Oz.USER_ACCOUNT,e))),e))||[],t(a)}catch{t([])}try{let t=[];(!R||e)&&(t=await D.current(),y(t.filter(e=>s&&R&&!R.some(({id:s})=>s===e.id)).map(e=>e.user.full_name)),N(t));let n=e?t:R??t;P(n.map(o.IT)),b(n.reduce((e,s)=>(e[s.id]=s.business_roles||[],e),{})),O((0,o.WP)({id:G,username:w,email:H,fullName:F,imageSmallUrl:Z,imageMediumUrl:x})),B.current[""]=[...a.map(e=>e.id),...n.map(o.IT).map(e=>e.id),G],T(!1)}catch{T(!1)}},$=(0,a.useCallback)(j,[G,w,H,F,Z,x,k,U,R]),K=(0,a.useCallback)(e=>s.some(s=>s.id===e||"children"in s&&s.children.some(s=>s.id===e||s.user.id===e)),[s]),W=(0,a.useCallback)(e=>s.map(e=>"BUSINESS_HIERARCHY"===e.entity_type?e:null).find(s=>!!s&&s.children.some(s=>s.user.id===e)),[s]),Y=(0,a.useCallback)(()=>{y([])},[y]),q=(0,a.useMemo)(()=>({businessHierarchies:[...C?.id&&!K(C.id)?[C]:[],...s,...h.filter(e=>!K(e.id))],switchAccount:v,searchAccounts:V,loadingAccounts:S,isSearchingAccounts:I,fetchData:$,getParentHierarchyForIdIfExists:W,viewerRolesOfEachEmployer:g,tooltipEmployers:d,hideTooltip:Y}),[s,v,V,h,S,I,C,$,K,W,g,d,Y]);return(0,m.jsx)(p,{value:q,children:e})}},414071:function(e,s,t){t.d(s,{IT:()=>_,SF:()=>A,WP:()=>d,bG:()=>c,p:()=>u,yo:()=>E});var a=t(473354),n=t(717805),l=t(575108),o=t(872799),i=t(686319),r=t(680202);let _=e=>({id:e.id,entity_type:o.Oz.BUSINESS_ACCOUNT,requires_mfa_for_roles:e.requires_mfa_for_roles,user:{id:e.user.id,entity_type:o.Oz.USER_ACCOUNT,username:e.user.username,email:e.user.email,full_name:e.user.full_name,image_small_url:e.user.image_small_url,image_medium_url:e.user.image_medium_url}}),d=e=>({id:e.id,entity_type:o.Oz.BUSINESS_ACCOUNT,user:{id:e.id,entity_type:o.Oz.USER_ACCOUNT,username:e.username,email:e.email,full_name:e.fullName,image_small_url:e.imageSmallUrl,image_medium_url:e.imageMediumUrl}}),u=async({hierarchyId:e})=>(await (0,i.Z)({url:`ads/v4/business_access/business_hierarchy/${e}/`})).resource_response,c=async({user_id:e,username:s})=>{if(!s&&!e)return null;let{resource_response:{data:t}}=await l.Z.create("UserResource",{user_id:e,username:s}).callGet();return t},A=async({entityId:e})=>{let s=(await (0,a.Z)([{entity_type:"BIZ_USER",entity_id:e,property_keys:["GLOBAL_ACCOUNT_SWITCHER_CONFIG"]}]))[0];return s&&s.properties?s.properties.GLOBAL_ACCOUNT_SWITCHER_CONFIG:{}},E=async({entityId:e,actingBusinessId:s,favorites:t})=>{let a={};(0,r.k)(s)||(a.actingBusinessId=s),t&&(a.favoriteAdAccounts={favoriteAdAccountsMap:{[t.actingBusinessId]:{advertiserId:t.adAccounts}}}),Object.keys(a).length>0&&await (0,n.Z)([{entity_type:"BIZ_USER",entity_id:e,properties:{GLOBAL_ACCOUNT_SWITCHER_CONFIG:a}}])}},855860:function(e,s,t){t.d(s,{r:()=>S,Z:()=>y});var a=t(667294),n=t(473354),l=t(121366),o=t(686319),i=t(667016);let r=async(e,s)=>{let{statsLog:t}=(0,i.t)();try{let a=new Date,n=await (0,o.Z)({url:"/ads/v4/business_entities",data:e,method:"POST"}),l=new Date;return t&&(t.success("getMultipleBizEntityProperties",s),t.latency("getMultipleBizEntityProperties",l.getTime()-a.getTime(),s)),n.resource_response.data}catch(e){throw t&&t.failure("getMultipleBizEntityProperties",s),e}},_=async(e,s,t="PUT")=>{let{statsLog:a}=(0,i.t)();try{let n=new Date,l=await (0,o.Z)({url:"/ads/v4/business_entities",data:e,method:t}),i=new Date;return a&&(a.success("setMultipleBizEntityPropertiesFullUpdate",s),a.latency("setMultipleBizEntityPropertiesFullUpdate",i.getTime()-n.getTime(),s)),l.resource_response.data}catch(e){throw a&&a.failure("setMultipleBizEntityPropertiesFullUpdate",s),e}};var d=t(729434),u=t(657043),c=t(821342),A=t(274320),E=t(603316),m=t(785893);let{Provider:p,get:y}=(0,d.Z)("CustomShortcutsContext"),S=({children:e})=>{let s=(0,c.Z)(),t=s.isAuth?s.id:void 0,o=s.isAuth&&s.isPartner,i=s.isAuth&&s.isLimitedLogin,d=(0,A.r)(),[y,S]=(0,a.useState)({}),T=(0,a.useCallback)(async()=>{let{anyEnabled:e}=d.checkExperiment("aid_exp_use_fetch_api_in_custom_shortcut_context"),s=Object.freeze(["business.pinterest.com","create.pinterest.com","about.pinterest.com","support.pinterest.com","developers.pinterest.com","newsroom.pinterest.com"]).every(e=>!window.location.href?.includes(e));if(t&&o&&!i&&s)try{let s;s=e?r:n.Z;let a=(await s([{entity_id:t,entity_type:"BIZ_USER",property_keys:["NAVBAR_CONFIG"]}]))[0];if(!(a&&a.properties))return;let l=a.properties.NAVBAR_CONFIG;S(l?.customShortcuts||{})}catch(e){(0,E.nP)("pro_partner_header.dynamic_menu.shortcuts.get_error",{sampleRate:1,tags:{entity_id:t,error:(0,u.Z)(e,"message")}})}},[t,o,i,d]),I=(0,a.useCallback)(async e=>{let{anyEnabled:s}=d.checkExperiment("aid_exp_use_fetch_api_in_custom_shortcut_context");if(!t)return(0,E.nP)("pro_partner_header.dynamic_menu.shortcuts.upsert_error",{sampleRate:1,tags:{entity_id:t,error:"Auth_Error"}}),{error:"Auth_Error"};try{let a;a=s?_:l.Z;return await a([{entity_id:t,entity_type:"BIZ_USER",properties:{NAVBAR_CONFIG:{customShortcuts:e}}}]),T(),{error:null}}catch(e){return(0,E.nP)("pro_partner_header.dynamic_menu.shortcuts.upsert_error",{sampleRate:1,tags:{entity_id:t,error:(0,u.Z)(e,"message")}}),{error:"Upsert_Error"}}},[t,d,T]);(0,a.useEffect)(()=>{T()},[T]);let f=(0,a.useMemo)(()=>({shortcuts:y,upsertShortcuts:I}),[y,I]);return(0,m.jsx)(p,{value:f,children:e})}},78423:function(e,s,t){t.d(s,{H7:()=>c,CB:()=>A});var a=t(667294),n=t(729434),l=t(20256),o=t(686319),i=t(982166),r=t(525839),_=t(785893);let d=({onConfirm:e})=>{let s=(0,r.ZP)(),[t,n]=(0,a.useState)(!1),d=()=>{n(!0),(0,o.Z)({url:"/v3/users/email/verify/resend/",method:"POST"})};return(0,_.jsx)(i.ZP,{accessibilityModalLabel:s._('Verify your email', 'Accessible label for email verification being required', 'Accessible label for email verification being required'),footer:(0,_.jsxs)(l.kC,{gap:{row:2,column:0},justifyContent:"end",children:[t?(0,_.jsx)(l.zx,{color:"gray",disabled:t,fullWidth:!0,onClick:d,size:"lg",text:s._('Email sent', 'Button text for verification email being sent', 'Button text for verification email being sent')}):(0,_.jsx)(l.zx,{color:"gray",disabled:t,fullWidth:!0,onClick:d,size:"lg",text:s._('Resend email', 'Button text for resending email verification email', 'Button text for resending email verification email')}),(0,_.jsx)(l.zx,{color:"red",fullWidth:!0,onClick:e,size:"lg",text:s._('Got it', 'Button text for acknowledging email verificaiton is required', 'Button text for acknowledging email verificaiton is required')})]}),heading:s._('Verify your email', 'Accessible label for email verification being required', 'Accessible label for email verification being required'),onDismiss:e,role:"alertdialog",children:(0,_.jsx)(l.xu,{padding:8,children:(0,_.jsx)(l.xv,{align:"center",size:"300",children:s._('Keep your account secure by verifying your email address. Check the inbox associated with this account for an email from us to continue using Pinterest.', 'Inform users that they need to verify their email to keep their account secure and continue using Pinterest', 'Inform users that they need to verify their email to keep their account secure and continue using Pinterest')})})})},{Provider:u,get:c}=(0,n.Z)("EmailVerificationReminderModal");function A({children:e}){let[s,t]=(0,a.useState)(!1),n=(0,a.useMemo)(()=>({showEmailVerificationReminderModal:()=>{t(!0)}}),[]);return(0,_.jsxs)(a.Fragment,{children:[(0,_.jsx)(u,{value:n,children:e}),s&&(0,_.jsx)(d,{onConfirm:()=>{t(!1)}})]})}},349427:function(e,s,t){t.d(s,{JD:()=>a,al:()=>n,f4:()=>r,iV:()=>i,tN:()=>o});let a={ALGERIA:"DZ",ARGENTINA:"AR",AUSTRALIA:"AU",AUSTRIA:"AT",BAHRAIN:"BH",BELGIUM:"BE",BRAZIL:"BR",BULGARIA:"BG",CANADA:"CA",CHILE:"CL",COLOMBIA:"CO",COSTA_RICA:"CR",CROATIA:"HR",CYPRUS:"CY",CZECHIA:"CZ",DENMARK:"DK",DOMINICAN_REPUBLIC:"DO",ECUADOR:"EC",EGYPT:"EG",ESTONIA:"EE",FINLAND:"FI",FRANCE:"FR",GERMANY:"DE",GREECE:"GR",GUATEMALA:"GT",HONG_KONG:"HK",HUNGARY:"HU",IRAQ:"IQ",IRELAND:"IE",INDIA:"IN",INDONESIA:"ID",ISRAEL:"IL",ITALY:"IT",JAPAN:"JP",KUWAIT:"KW",LATVIA:"LV",LITHUANIA:"LT",LUXEMBOURG:"LU",MALTA:"MT",MALAYSIA:"MY",MEXICO:"MX",MOROCCO:"MA",NETHERLANDS:"NL",NEW_ZEALAND:"NZ",NIGERIA:"NG",NORTH_MACEDONIA:"MK",NORWAY:"NO",OMAN:"OM",PAKISTAN:"PK",PERU:"PE",POLAND:"PL",PORTUGAL:"PT",QATAR:"QA",ROMANIA:"RO",SAUDI_ARABIA:"SA",SERBIA:"RS",SINGAPORE:"SG",SLOVAKIA:"SK",SLOVENIA:"SI",SOUTH_KOREA:"KR",SPAIN:"ES",SWEDEN:"SE",SWITZERLAND:"CH",TAIWAN:"TW",THAILAND:"TH",TURKEY:"TR",UNITED_ARAB_EMIRATES:"AE",UNITED_KINGDOM:"GB",UNITED_STATES:"US",PHILIPPINES:"PH",VIETNAM:"VN",SOUTH_AFRICA:"ZA",UNKNOWN:"UNKNOWN"},n=(e,s)=>({AE:s._('United Arab Emirates', '[m10n]billing.BusinessInformation.country.AE', 'Country in business information form address'),AR:s._('Argentina', '[m10n]billing.BusinessInformation.country.AR', 'Country in business information form address'),AT:s._('Austria', '[m10n]billing.BusinessInformation.country.AT', 'Country in business information form address'),AU:s._('Australia', '[m10n]billing.BusinessInformation.country.AU', 'Country in business information form address'),BE:s._('Belgium', '[m10n]billing.BusinessInformation.country.BE', 'Country in business information form address'),BG:s._('Bulgaria', '[m10n]billing.BusinessInformation.country.BG', 'Country in business information form address'),BH:s._('Bahrain', '[m10n]billing.BusinessInformation.country.BH', 'Country in business information form address'),BR:s._('Brazil', '[m10n]billing.BusinessInformation.country.BR', 'Country in business information form address'),CA:s._('Canada', '[m10n]billing.BusinessInformation.country.CA', 'Country in business information form address'),CH:s._('Switzerland', '[m10n]billing.BusinessInformation.country.CH', 'Country in business information form address'),CL:s._('Chile', '[m10n]billing.BusinessInformation.country.CL', 'Country in business information form address'),CO:s._('Colombia', '[m10n]billing.BusinessInformation.country.CO', 'Country in business information form address'),CR:s._('Costa Rica', '[m10n]billing.BusinessInformation.country.CR', 'Country in business information form address'),CY:s._('Cyprus', '[m10n]billing.BusinessInformation.country.CY', 'Country in business information form address'),CZ:s._('Czechia', '[m10n]billing.BusinessInformation.country.CZ', 'Country in business information form address'),DE:s._('Germany', '[m10n]billing.BusinessInformation.country.DE', 'Country in business information form address'),DK:s._('Denmark', '[m10n]billing.BusinessInformation.country.DK', 'Country in business information form address'),DO:s._('Dominican Republic', '[m10n]billing.BusinessInformation.country.DO', 'Country in business information form address'),DZ:s._('Algeria', '[m10n]billing.BusinessInformation.country.DZ', 'Country in business information form address'),EC:s._('Ecuador', '[m10n]billing.BusinessInformation.country.EC', 'Country in business information form address'),EE:s._('Estonia', '[m10n]billing.BusinessInformation.country.EE', 'Country in business information form address'),EG:s._('Egypt', '[m10n]billing.BusinessInformation.country.EG', 'Country in business information form address'),ES:s._('Spain', '[m10n]billing.BusinessInformation.country.ES', 'Country in business information form address'),FI:s._('Finland', '[m10n]billing.BusinessInformation.country.FI', 'Country in business information form address'),FR:s._('France', '[m10n]billing.BusinessInformation.country.FR', 'Country in business information form address'),GB:s._('United Kingdom', '[m10n]billing.BusinessInformation.country.GB', 'Country in business information form address'),GR:s._('Greece', '[m10n]billing.BusinessInformation.country.GR', 'Country in business information form address'),GT:s._('Guatemala', '[m10n]billing.BusinessInformation.country.GT', 'Country in business information form address'),HK:s._('Hong Kong', '[m10n]billing.BusinessInformation.country.HK', 'Country in business information form address'),HR:s._('Croatia', '[m10n]billing.BusinessInformation.country.HR', 'Country in business information form address'),HU:s._('Hungary', '[m10n]billing.BusinessInformation.country.HU', 'Country in business information form address'),IE:s._('Ireland', '[m10n]billing.BusinessInformation.country.IE', 'Country in business information form address'),IN:s._('India', '[m10n]billing.BusinessInformation.country.IN', 'Country in business information form address'),ID:s._('Indonesia', '[m10n]billing.BusinessInformation.country.ID', 'Country in business information form address'),IL:s._('Israel', '[m10n]billing.BusinessInformation.country.IL', 'Country in business information form address'),IQ:s._('Iraq', '[m10n]billing.BusinessInformation.country.IQ', 'Country in business information form address'),IT:s._('Italy', '[m10n]billing.BusinessInformation.country.IT', 'Country in business information form address'),JP:s._('Japan', '[m10n]billing.BusinessInformation.country.JP', 'Country in business information form address'),KR:s._('South Korea', '[m10n]billing.BusinessInformation.country.KR', 'Country in business information form address'),KW:s._('Kuwait', '[m10n]billing.BusinessInformation.country.KW', 'Country in business information form address'),LT:s._('Lithuania', '[m10n]billing.BusinessInformation.country.LT', 'Country in business information form address'),LU:s._('Luxembourg', '[m10n]billing.BusinessInformation.country.LU', 'Country in business information form address'),LV:s._('Latvia', '[m10n]billing.BusinessInformation.country.LV', 'Country in business information form address'),MA:s._('Morocco', '[m10n]billing.BusinessInformation.country.MA', 'Country in business information form address'),MK:s._('North Macedonia', '[m10n]billing.BusinessInformation.country.MK', 'Country in business information form address'),MT:s._('Malta', '[m10n]billing.BusinessInformation.country.MT', 'Country in business information form address'),MX:s._('Mexico', '[m10n]billing.BusinessInformation.country.MX', 'Country in business information form address'),MY:s._('Malaysia', '[m10n]billing.BusinessInformation.country.MY', 'Country in business information form address'),NG:s._('Nigeria', '[m10n]billing.BusinessInformation.country.NG', 'Country in business information form address'),NL:s._('Netherlands', '[m10n]billing.BusinessInformation.country.NL', 'Country in business information form address'),NO:s._('Norway', '[m10n]billing.BusinessInformation.country.NO', 'Country in business information form address'),NZ:s._('New Zealand', '[m10n]billing.BusinessInformation.country.NZ', 'Country in business information form address'),OM:s._('OMAN', '[m10n]billing.BusinessInformation.country.OM', 'Country in business information form address'),PE:s._('Peru', '[m10n]billing.BusinessInformation.country.PE', 'Country in business information form address'),PH:s._('Philippines', '[m10n]billing.BusinessInformation.country.PH', 'Country in business information form address'),PK:s._('Pakistan', '[m10n]billing.BusinessInformation.country.PK', 'Country in business information form address'),PL:s._('Poland', '[m10n]billing.BusinessInformation.country.PL', 'Country in business information form address'),PT:s._('Portugal', '[m10n]billing.BusinessInformation.country.PT', 'Country in business information form address'),QA:s._('Qatar', '[m10n]billing.BusinessInformation.country.QA', 'Country in business information form address'),RO:s._('Romania', '[m10n]billing.BusinessInformation.country.RO', 'Country in business information form address'),RS:s._('Serbia', '[m10n]billing.BusinessInformation.country.RS', 'Country in business information form address'),SA:s._('Saudi Arabia', '[m10n]billing.BusinessInformation.country.SA', 'Country in business information form address'),SE:s._('Sweden', '[m10n]billing.BusinessInformation.country.SE', 'Country in business information form address'),SG:s._('Singapore', '[m10n]billing.BusinessInformation.country.SG', 'Country in business information form address'),SI:s._('Slovenia', '[m10n]billing.BusinessInformation.country.SI', 'Country in business information form address'),SK:s._('Slovakia', '[m10n]billing.BusinessInformation.country.SK', 'Country in business information form address'),TH:s._('Thailand', '[m10n]billing.BusinessInformation.country.TH', 'Country in business information form address'),TR:s._('Turkey', '[m10n]billing.BusinessInformation.country.TR', 'Country in business information form address'),TW:s._('Taiwan', '[m10n]billing.BusinessInformation.country.TW', 'Country in business information form address'),US:s._('United States', '[m10n]billing.BusinessInformation.country.US', 'Country in business information form address'),VN:s._('Vietnam', '[m10n]billing.BusinessInformation.country.VN', 'Country in business information form address'),ZA:s._('South Africa', '[m10n]billing.BusinessInformation.country.ZA', 'Country in business information form address'),UNKNOWN:s._('Unknown', '[m10n]billing.BusinessInformation.country.UNKNOWN', 'Country in business information form address')})[e]||e,l={IL:9,HK:18,KR:20,SG:21,TW:39,MY:40,VN:41,TH:42,PH:43,ID:44,DO:46,AE:47,TR:48,IN:49,GT:50,SA:51,NG:52,QA:53,PE:54,EG:55,IQ:56,BH:57,CR:58,DZ:59,EC:60,KW:61,MA:62,OM:63,PK:64,ZA:66,US:1,EE:67,LT:68,SI:69,LV:70,BG:71,RS:72,HR:73,MK:74},o={...l,AR:36,AT:11,AU:5,BE:15,BR:34,CA:3,CH:17,CL:37,CO:38,CY:25,CZ:31,DE:10,DK:23,ES:13,FI:24,FR:7,GB:2,GR:32,HK:18,HU:30,IE:4,IN:49,ID:44,IL:9,IT:12,JP:19,KR:20,LU:26,MT:27,MX:35,MY:40,NL:14,NO:22,NZ:6,PH:43,PL:28,PT:16,RO:29,SE:8,SG:21,SK:33,TH:42,TW:39,US:1,VN:41,UNKNOWN:0},i=Object.entries(o).reduce((e,s)=>{let[t,a]=s;return e[a]=t,e},{}),r=Object.values(l)},789877:function(e,s,t){t.d(s,{Z:()=>l});let a="/business/business-manager/",n="/business/business-hierarchy/",l=(e,s,t,l)=>{switch(e){case"DASHBOARD":return l?`${n}${String(l)}/dashboard/`:`${a}${String(s)}/dashboard/`;case"PEOPLE":return`${a}${String(s)}/employees/`;case"PARTNERS":return`${a}${String(s)}/partners/`;case"AD_ACCOUNTS":return`${a}${String(s)}/ad-accounts/`;case"HISTORY":return`${a}${String(s)}/history/`;case"PEOPLE_DETAIL":return`${a}${String(s)}/employees/${String(t)}/details/`;case"PARTNERS_DETAIL":return`${a}${String(s)}/partners/${String(t)}/details/`;case"SHARED_PARTNERS_DETAIL":return`${a}${String(s)}/shared/${String(t)}/details/`;case"AD_ACCOUNTS_DETAIL":return`${a}${String(s)}/ad-accounts/${String(t)}/details/`;case"PENDING_AD_ACCOUNTS_DETAIL":return`${a}${String(s)}/ad-accounts/pending/${String(t)}/details/`;case"PEOPLE_PENDING_TAB":return`${a}${String(s)}/employees/pending/`;case"PARTNERS_PENDING_TAB":return`${a}${String(s)}/partners/pending/`;case"AD_ACCOUNTS_PENDING_TAB":return`${a}${String(s)}/ad-accounts/pending`;case"AD_ACCOUNTS_CEE_MIGRATION":return`${a}${String(s)}/ad-accounts/cee-migration`;case"PROFILES":return`${a}${String(s)}/profiles/`;case"PROFILES_DETAIL":return`${a}${String(s)}/profiles/${String(t)}/details/`;case"BUSINESS_SECURITY":return`${a}${String(s)}/security/`;case"ASSET_GROUPS":return t?`${a}${String(s)}/asset-groups/?asset_group_id=${String(t)}`:`${a}${String(s)}/asset-groups/`;case"INVOICE_MANAGEMENT":return`${a}${String(s)}/invoice-management/`;case"BUSINESS_HIERARCHY":return`${n}${String(l)}/hierarchy/`;case"BUSINESS_HIERARCHY_BUSINESS_SECURITY":return`${n}${String(l)}/business_security/`;case"MANAGERS":return`${n}${String(l)}/managers/`;case"AUDIENCES":return`${a}${String(s)}/audiences/`;case"SHARED_TAGS":return`${a}${String(s)}/shared-tags/`;case"CATALOGS":return`${a}${String(s)}/catalogs/`;case"BRAND_SAFETY":return`${a}${String(s)}/brand-safety/`;case"BUSINESS_SETTINGS":return`${a}${String(s)}/settings/`;case"SYSTEM_USERS":return`${a}${String(s)}/system-users/`;case"APPS":return`${a}${String(s)}/apps/`;case"CONVERSION_DATA":return`${a}${String(s)}/conversion-data/`;default:return a}}},872133:function(e,s,t){t.d(s,{default:()=>y});var a=t(255581),n=t(575108),l=t(111330),o=t(785873),i=t(464332),r=t(816358),_=t(959989),d=t(650160),u=t(843466),c=t(753143),A=t(238589),E=t(694955),m=t(941404),p=t(902391);async function y(e={logoutOnAbort:!1},s,t){let{redirectUrl:S,localStorageItems:T,logoutOnAbort:I,reason:f="user_initiated",source:C}=e,O=(0,c.M0)();if("authentication_failed"===f&&O.getItem(l.co))return;(0,m.yl)(!0),r.Z.pause(),s(),O.setItem(l.co,!0);let R=t?"web_desktop":"web_mobile";(0,m.tj)("logout.attempt",{tags:{app:R,reason:f,source:C}});try{await n.Z.create("UserSessionResource",{disable_auth_failure_redirect:!0}).callDelete()}catch(e){if(O.setItem(l.co,!1),I&&e?.type==="abort")(0,m.tj)("logout.logout_ignored",{tags:{app:R,reason:f,source:C}});else throw(0,m.tj)("logout.error",{tags:{app:R,reason:f,source:C}}),e}(0,m.tj)("logout",{tags:{app:R,reason:f,source:C}}),A.ZP.clear();let N=[[l.V6,null]].map(([e,s])=>[e,O.getItem(e)]);O.clear(),N.forEach(([e,s])=>O.setItem(e,s)),i.t8(a.e7,"True",(0,i.kZ)(a.e7)),i.t8(a.yu,new Date().toLocaleDateString(),(0,i.kZ)(a.yu)),t||(0,p.E)(!1),T&&((0,_.r8)(T.multipleAccountMap),(0,_.M3)(T.multipleAccountGroupId)),t?await (0,d.Z)("logoutWithOptions"):await (0,u.Z)(),(0,o.Z)(S||E.ZEf)}},453179:function(e,s,t){t.d(s,{Ct:()=>C,Mt:()=>O,NK:()=>y,P6:()=>l,UE:()=>N,ZE:()=>E,Zt:()=>m,_J:()=>_,_S:()=>S,cL:()=>c,iR:()=>T,jL:()=>r,oM:()=>f,oN:()=>n,oU:()=>R,rM:()=>A,sV:()=>d,sY:()=>u,vj:()=>p,yp:()=>o});var a=t(239728);let n=5e3,l=5e3/a.gJ,o="Pin page",i=["Uploaded by user"],r=(e,s)=>!!s&&!e,_=e=>!!e&&5!==e,d=e=>["email","messages","deep_linking"].includes(e),u=e=>!!e&&"gif"===e,c=({embedSrc:e,embedSubtype:s,embedType:t})=>!!e&&!u(t)&&"pinstory"!==s,A=({link:e,mobileLink:s,trackedLink:t,utmLink:a})=>!s&&!a&&!t&&!e,E=e=>/pin.it/gim.test(e||""),m=({link:e,mobileLink:s,origImageUrl:t,trackedLink:a,utmLink:n})=>s||n||a||e||t||"",p=e=>"string"==typeof e&&(e.includes("#recipe")||e.includes("#:~:text=")),y=(e,s)=>({deeplinkUri:{android:`pin/${e}/repin`,iOS:`repin/${e}`},mwebUri:{pathname:`/pin/${e}/repin/`,state:{trackingParams:s.state?s.state.trackingParams:""}}});function S(e){for(let s of i)if(e===s)return!1;return!0}function T(e){if(!e)return!1;let{id:s,videos:t}=e;if(s&&t?.id&&t.video_list){let{V_720P:e,V_HLSV4:s,V_HLSV3_MOBILE:a}=t.video_list;if(e&&I(e)||s&&I(s)||a&&I(a))return!0}let a=e.story_pin_data?.pages?.[0]?.blocks;if(a){for(let e of a)if("story_pin_video_block"===e.type&&e?.video)return!0}return!1}function I(e){return!!(e.thumbnail&&e.url&&e.width&&e.height)}let f={TALL:"tall",SQUARE:"square",WIDE:"wide"};function C(e,s){if(!e||!s)return f.TALL;let t=e/s;return t<.95?f.TALL:t<=1.05?f.SQUARE:f.WIDE}function O(e){return e?/(?:v\/|V\/|be\/|(?:\?|&)v=|embed\/|shorts\/)([\w-]+)/.exec(e)?.[1]??null:null}function R({isVideo:e,link:s}){return!!e&&!!s&&!!/(youtu(|.)be)/.exec(s)&&!!O(s)}let N=e=>"button"in e&&1===e.button},802664:function(e,s,t){t.d(s,{Z:()=>d});var a=t(667294),n=t(78730),l=t(980787),o=t(872133),i=t(593891),r=t(15667),_=t(785893);function d({children:e}){let s=(0,n.N)(),t=(0,r.B)(),{flushContextEvents:d}=(0,l.u)(),u=(0,a.useCallback)(e=>(0,o.default)(e,d,!0),[d]),c=(0,a.useMemo)(()=>({loginContext:{appType:s.app_type_detailed,facebookToken:t.facebookToken,origin:t.origin,referrer:t.referrerFromCookie,unauthId:t.unauthId},logout:u}),[s.app_type_detailed,t.facebookToken,t.referrerFromCookie,t.origin,t.unauthId,u]);return(0,_.jsx)(i.o_,{value:c,children:e})}},699615:function(e,s,t){t.d(s,{Z:()=>_});var a=t(667294),n=t(20256),l=t(32937),o=t(87853),i=t(647709),r=t(785893);function _({children:e}){let[s,t]=(0,a.useState)([]),_=(0,a.useRef)(0),d=(0,i.ZP)(),u=()=>{let e=_.current;return _.current+=1,`toast${e}`},c=(0,a.useMemo)(()=>({showOneToast:e=>{t([{name:u(),component:e}])},showToast:e=>{t(s=>[...s,{name:u(),component:e}])}}),[t]);return(0,r.jsxs)(o.Zo,{value:c,children:[e,(0,r.jsx)(l.Z,{children:(0,r.jsx)(n.mh,{children:(0,r.jsx)(n.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{pointerEvents:"none",..."desktop"===d?{bottom:"14px"}:{top:"phone"===d?56:80}}},direction:"column",display:"flex",justifyContent:"center",position:"fixed",width:"100%",zIndex:new n.Ry(1500),children:s.map(({name:e,component:s})=>{if(s)return(0,r.jsx)(s,{hideToast:()=>{t(s=>{let t=[...s],a=t.findIndex(s=>s.name===e);return -1!==a&&t.splice(a,1),t})}},e)})})})})]})}},239728:function(e,s,t){t.d(s,{$f:()=>n,Cy:()=>r,DR:()=>a,Fm:()=>i,bR:()=>o,gJ:()=>l,lG:()=>_});let a=1,n=2,l=1e3,o=1e3,i=1e3,r=Object.freeze({DEFAULT:0,LOAD_START:1,LOADED_METADATA:2,LOADED_DATA:3,PLAYING:4,PAUSED:5,SEEKING:6,STALLING:7,FAILED:8,ENDED:9}),_=Object.freeze({MEDIA_ERR_ABORTED:1,MEDIA_ERR_NETWORK:2,MEDIA_ERR_DECODE:3,MEDIA_ERR_SRC_NOT_SUPPORTED:4})},572257:function(e,s,t){t.d(s,{Z:()=>n});var a=t(686319);function n(){return async()=>{let e=await (0,a.Z)({url:"/ads/v4/business_access/businesses/me/employers/"}),s=e.resource_response?e.resource_response.data:{data:[]};return await Promise.all(s&&s.data||[])}}},407633:function(e,s,t){t.d(s,{Z:()=>a});function a(e){return{type:"UPDATE_VIEWER_IS_PROFILE_OWNER_OR_PROFILE_MANAGER",payload:e}}},514058:function(e,s,t){t.d(s,{Z:()=>a});let a=({businessAccess:e})=>e??{}},728759:function(e,s,t){t.d(s,{Z:()=>n});var a=t(616550);function n(){let{catalog_id:e,feed_profile_id:s,workflow_id:t,product_group_id:n,event_type_id:l,supplemental_feed_profile_id:o,mn_catalog_id:i,mn_product_group_id:r}=(0,a.UO)();return{catalogId:e,feedProfileId:s,workflowId:t,productGroupId:n,eventTypeId:l,supplementalFeedProfileId:o,mnCatalogId:i,mnProductGroupId:r}}},164444:function(e,s,t){t.d(s,{C:()=>l,i:()=>i});var a=t(667294),n=t(785893);let l=(0,a.createContext)({catalogEntities:{accessibleBusinessId:null,accessibleMerchantId:null,hasAdminAccess:null},initializeContext:()=>{}});function o(e={accessibleBusinessId:null,accessibleMerchantId:null,hasAdminAccess:null},s){return"INITIALIZE_CONTEXT"===s.type?{...e,accessibleBusinessId:s.payload.accessibleBusinessId,accessibleMerchantId:s.payload.accessibleMerchantId,hasAdminAccess:s.payload.hasAdminAccess}:e}let i=({children:e})=>{let[s,t]=(0,a.useReducer)(o,{accessibleBusinessId:null,accessibleMerchantId:null,hasAdminAccess:null}),i=(0,a.useMemo)(()=>({catalogEntities:s,initializeContext:({accessibleBusinessId:e,accessibleMerchantId:s,hasAdminAccess:a})=>{t({type:"INITIALIZE_CONTEXT",payload:{accessibleBusinessId:e,accessibleMerchantId:s,hasAdminAccess:a}})}}),[s]);return(0,n.jsx)(l,{value:i,children:e})}},947956:function(e,s,t){t.d(s,{$7:()=>y,Ay:()=>i,B1:()=>T,CD:()=>_,Dk:()=>c,Fc:()=>U,Kp:()=>B,NG:()=>R,QM:()=>b,T0:()=>u,TE:()=>p,WF:()=>C,Wm:()=>I,Xm:()=>N,_N:()=>g,d7:()=>o,dt:()=>D,e_:()=>P,i_:()=>O,kY:()=>m,nV:()=>n,pC:()=>r,ph:()=>E,qg:()=>h,sg:()=>A,tZ:()=>l,tw:()=>L,uC:()=>d,uc:()=>f,xl:()=>S,yG:()=>M});var a=t(349427);let n="https://business.pinterest.com/en/pinterest-advertising-services-agreement",l="https://business.pinterest.com/fr/pinterest-advertising-services-agreement",o="https://business.pinterest.com/pt-br/pinterest-advertising-services-agreement",i="https://business.pinterest.com/es/pinterest-advertising-services-agreement/mexico/",r="https://business.pinterest.com/es/pinterest-advertising-services-agreement/argentina/",_="https://business.pinterest.com/es/pinterest-advertising-services-agreement/chile/",d="https://business.pinterest.com/es/pinterest-advertising-services-agreement/colombia/",u="https://business.pinterest.com/ja/pinterest-advertising-services-agreement/",c="https://business.pinterest.com/en-gb/pinterest-advertising-services-agreement",A="https://business.pinterest.com/pinterest-advertising-services-agreement/",E=[1,3],m=[7],p=[34],y=[35],S=[19],T=[36],I=[37],f=[38],C=8,O=9,R=11,N=15,h=16,P=17,g=18,b=19,M=20,D=22,L=23;function U(e,s){let t=O;return E.includes(e)&&!s?t=C:m.includes(e)?t=R:p.includes(e)?t=N:y.includes(e)?t=h:S.includes(e)?t=P:T.includes(e)?t=g:f.includes(e)?t=b:I.includes(e)?t=M:a.f4.includes(e)&&(t=D),t}function B(e){let s=c;return E.includes(e)?s=n:m.includes(e)?s=l:p.includes(e)?s=o:y.includes(e)?s=i:S.includes(e)?s=u:T.includes(e)?s=r:I.includes(e)?s=_:f.includes(e)&&(s=d),s}},217459:function(e,s,t){t.d(s,{XI:()=>n,YZ:()=>o,rc:()=>l,sU:()=>_});var a=t(667294);function n(e){let[s,t]=(0,a.useState)(!1),n=()=>t(!0),l=()=>t(!1);return(0,a.useEffect)(()=>{let{current:s}=e;return s&&(s.addEventListener("mouseenter",n),s.addEventListener("mouseleave",l)),()=>{s&&(s.removeEventListener("mouseenter",n),s.removeEventListener("mouseleave",l))}}),s}let l=e=>{let s=(0,a.useRef)(e);return(0,a.useEffect)(()=>{s.current=e}),s.current};function o(){let e=(0,a.useRef)(!0);return(0,a.useEffect)(()=>{e.current=!1},[]),e.current}function i(e,s){return Object.is(e,s)}let r=Symbol("pre-initial value");function _(e,{equal:s=i,delta:t}={equal:i}){let n=(0,a.useRef)(r),l=n.current;return(0,a.useEffect)(()=>{n.current=e}),{previousValue:l,changed:l===r||!s(l,e),delta:t?.(l,e)}}},642483:function(e,s,t){t.d(s,{a:()=>c,B:()=>d});var a=t(667294),n=t(729434),l=t(686319);let o={boardMap:{}};function i(e,s){if(e=e||o,"BLOCKING_ACTIONS_UPDATED"===s.type){let{payload:{boardId:t,blockingActions:a}}=s,n=null,l=null,o={};return a.forEach(({section_id:e,progress:s,id:t,created_timestamp:a})=>{let i={id:t,createdAt:a,progress:s};e?"-1"===e?n=i:o[e]=i:l=i}),{...e,boardMap:{...e.boardMap,[t]:{wholeBoard:n,unorganized:l,sectionMap:o}}}}return e}var r=t(785893);let{Provider:_,getMaybe:d}=(0,n.Z)("BlockingAction");async function u(e){let s=await (0,l.Z)({url:`/v3/boards/${e}/`,data:{fields:["board.id","board.blocking_actions"]}});return new Promise((e,t)=>{let a=s&&s.resource_response&&s.resource_response.data&&s.resource_response.data.blocking_actions;if(!a)return void t(Error("No blocking actions found in the response"));e(a)})}function c({children:e}){let[s,t]=(0,a.useReducer)(i,o),n=(0,a.useCallback)(e=>u(e).then(s=>(t({type:"BLOCKING_ACTIONS_UPDATED",payload:{boardId:e,blockingActions:s}}),s)),[]),l=(0,a.useMemo)(()=>({blockingActions:s,fetchBlockingActions:n}),[s,n]);return(0,r.jsx)(_,{value:l,children:e})}},464876:function(e,s,t){t.d(s,{MC:()=>y,Dw:()=>f,HU:()=>A,dd:()=>h,Sx:()=>T,Un:()=>I,KJ:()=>m,Pf:()=>C,jn:()=>R,Dl:()=>O,nU:()=>p,sO:()=>E,vg:()=>N,nC:()=>S});var a=t(667294),n=t(616550),l=t(729434),o=t(506662),i=t(274320);let r={payload:{},type:null},_={businessId:"",business:null,managerId:"",manager:null,businessHierarchyId:"",businessHierarchy:null,detailId:"",profile:null,adAccount:null,selectedAudience:null,isActingUserReseller:null,partnerId:"",employeeId:"",intents:r,modal:{modalType:null}};function d(e,s){switch(e=e||_,s.type){case"SET_ROUTER_PARAMS":return{...e,businessId:s.payload.businessId??"",detailId:s.payload.detailId??""};case"SET_SELECTED_BUSINESS":return{...e,businessId:s.payload.business?.user.id??"",business:s.payload.business};case"SET_CEE_MIGRATION_INFO":return{...e,ceeMigrationInfo:s.payload.ceeMigrationInfo};case"SET_SELECTED_BUSINESS_HIERARCHY":return{...e,businessHierarchyId:s.payload.businessHierarchy?.id||"",businessHierarchy:s.payload.businessHierarchy};case"SET_SELECTED_ORGANIZATION_MANAGER":return{...e,managerId:s.payload.manager?.user.id??"",manager:s.payload.manager};case"SET_SELECTED_DETAIL":return{...e,detailId:s.payload.detailId??""};case"SET_SELECTED_PROFILE":return{...e,profile:s.payload.profile};case"SET_SELECTED_AD_ACCOUNT":return{...e,adAccount:s.payload.adAccount};case"SET_SELECTED_AUDIENCE":return{...e,selectedAudience:s.payload.audience};case"SET_SELECTED_PARTNER_ID":return{...e,partnerId:s.payload.partnerId};case"SET_SELECTED_EMPLOYEE_ID":return{...e,employeeId:s.payload.employeeId};case"SET_IS_ACTING_USER_RESELLER":return{...e,isActingUserReseller:s.payload.isActingUserReseller};case"CLEAR_INTENT":case"OPEN_SHEET":return{...e,intents:function(e,s){switch(s.type){case"CLEAR_INTENT":return r;case"OPEN_SHEET":let{type:t,payload:a}=s;return{type:t,payload:a};default:return e}}(e.intents,s)};case"SET_MODAL":case"CLEAR_MODAL":return{...e,modal:function(e,s){switch(s.type){case"SET_MODAL":return s.payload;case"CLEAR_MODAL":return{modalType:null};default:return e}}(e.modal,s)};default:return e}}var u=t(785893);let{Provider:c,get:A}=(0,l.Z)("BusinessAccess");function E({children:e}){let[s,t]=(0,a.useReducer)(d,_),n=(0,a.useMemo)(()=>({setRouterParams:({detailId:e,businessId:s})=>t({type:"SET_ROUTER_PARAMS",payload:{detailId:e,businessId:s}}),setSelectedBusiness:e=>t({type:"SET_SELECTED_BUSINESS",payload:{business:e}}),setCeeMigrationInfo:e=>t({type:"SET_CEE_MIGRATION_INFO",payload:{ceeMigrationInfo:e}}),setSelectedOrganizationManager:e=>t({type:"SET_SELECTED_ORGANIZATION_MANAGER",payload:{manager:e}}),setSelectedBusinessHierarchy:e=>t({type:"SET_SELECTED_BUSINESS_HIERARCHY",payload:{businessHierarchy:e}}),setSelectedDetail:({detailId:e})=>t({type:"SET_SELECTED_DETAIL",payload:{detailId:e}}),setSelectedProfile:e=>t({type:"SET_SELECTED_PROFILE",payload:{profile:e}}),setSelectedAdAccount:e=>t({type:"SET_SELECTED_AD_ACCOUNT",payload:{adAccount:e}}),setSelectedAudience:e=>t({type:"SET_SELECTED_AUDIENCE",payload:{audience:e}}),setSelectedPartnerId:e=>t({type:"SET_SELECTED_PARTNER_ID",payload:{partnerId:e??""}}),setSelectedEmployeeId:e=>t({type:"SET_SELECTED_EMPLOYEE_ID",payload:{employeeId:e??""}}),setIsActingUserReseller:e=>t({type:"SET_IS_ACTING_USER_RESELLER",payload:{isActingUserReseller:e??!1}}),clearIntent:()=>t({type:"CLEAR_INTENT"}),openSheet:e=>t({type:"OPEN_SHEET",payload:e}),setAddPeopleModal:()=>t({type:"SET_MODAL",payload:{modalType:"CREATE_PEOPLE"}}),setAddPeopleInviteConfirmationModal:({inviteIds:e,role:s,isPendingTabActive:a})=>t({type:"SET_MODAL",payload:{modalType:"CREATE_PEOPLE_INVITE_CONFIRMATION",modalProps:{inviteIds:e,role:s,isPendingTabActive:a}}}),setAddPeopleInviteWithAssetsConfirmationModal:({inviteIds:e,invitedPeopleIdentifiers:s})=>t({type:"SET_MODAL",payload:{modalType:"CREATE_PEOPLE_INVITE_WITH_ASSETS_CONFIRMATION",modalProps:{inviteIds:e,invitedPeopleIdentifiers:s}}}),setAddPartnerInviteConfirmationModal:({selectedId:e,role:s,inviteId:a,isReseller:n})=>t({type:"SET_MODAL",payload:{modalType:"CREATE_PARTNER_INVITE_CONFIRMATION",modalProps:{selectedId:e,role:s,inviteId:a,isReseller:n}}}),setRemovePersonModal:e=>t({type:"SET_MODAL",payload:{modalType:"REMOVE_PERSON",modalProps:e}}),setRemoveProfilePermissionsModal:({userData:e,selectionType:s,profileId:a,profileName:n,dataToRefresh:l,refreshData:o})=>t({type:"SET_MODAL",payload:{modalType:"REMOVE_PROFILE_PERMISSIONS",modalProps:{userData:e,selectionType:s,profileId:a,profileName:n,dataToRefresh:l,refreshData:o}}}),setEditPersonRoleModal:e=>t({type:"SET_MODAL",payload:{modalType:"EDIT_PERSON_ROLE",modalProps:e}}),setInviteRequestPartnerModal:e=>t({type:"SET_MODAL",payload:{modalType:"INVITE_REQUEST_PARTNER",modalProps:{partnershipType:e?.partnershipType,pageForLogger:e?.pageForLogger}}}),setRequestPartnerConfirmationModal:({partnerId:e,role:s,requestId:a})=>t({type:"SET_MODAL",payload:{modalType:"CREATE_PARTNER_REQUEST_CONFIRMATION",modalProps:{partnerId:e,role:s,requestId:a}}}),setRequestPartnerConfirmationSuccessModal:({requestId:e})=>t({type:"SET_MODAL",payload:{modalType:"CREATE_PARTNER_REQUEST_CONFIRMATION_SUCCESS",modalProps:{requestId:e}}}),setRemoveChildBusinessModal:()=>t({type:"SET_MODAL",payload:{modalType:"REMOVE_CHILD_BUSINESS"}}),setRemoveOrganizationManagerModal:()=>t({type:"SET_MODAL",payload:{modalType:"REMOVE_ORGANIZATION_MANAGER"}}),setRemovePartnerModal:e=>t({type:"SET_MODAL",payload:{modalType:"REMOVE_PARTNER",modalProps:{...e}}}),setRemoveSharedPartnerModal:e=>t({type:"SET_MODAL",payload:{modalType:"REMOVE_SHARED_PARTNER",modalProps:{...e}}}),setRemoveSharedAdAccountModal:e=>t({type:"SET_MODAL",payload:{modalType:"REMOVE_SHARED_AD_ACCOUNT",modalProps:{...e}}}),setCreateAdAccountModal:()=>t({type:"SET_MODAL",payload:{modalType:"CREATE_AD_ACCOUNT"}}),setCreateAdAccountConfirmationModal:({ownerInfo:e,accountInfo:s,refreshData:a})=>t({type:"SET_MODAL",payload:{modalType:"CREATE_AD_ACCOUNT_CONFIRMATION",modalProps:{accountInfo:s,ownerInfo:e,refreshData:a}}}),setAssignAdAccountsModal:({selectedIds:e,selectionType:s,dataToRefresh:a,assignmentType:n,inviteIds:l,peopleIdentifiers:o,roleType:i,showProfiles:r,resellerUserId:_})=>t({type:"SET_MODAL",payload:{modalType:"ASSIGN_AD_ACCOUNTS",modalProps:{selectedIds:e,selectionType:s,dataToRefresh:a,assignmentType:n,peopleIdentifiers:o,inviteIds:l,roleType:i,showProfiles:r,resellerUserId:_}}}),setRequestAdAccountsModal:({requestId:e,partnerId:s})=>t({type:"SET_MODAL",payload:{modalType:"REQUEST_AD_ACCOUNTS",modalProps:{requestId:e,partnerId:s}}}),setRequestAdAccountsGeneralModal:({partner:e,adAccountsRequested:s})=>t({type:"SET_MODAL",payload:{modalType:"REQUEST_AD_ACCOUNTS_GENERAL",modalProps:{partner:e,adAccountsRequested:s}}}),setEditAdAccountAccessModal:({resourceId:e,principalId:s,dataToRefresh:a,assignmentType:n,rolesForAoaa:l,clientBusinessId:o})=>t({type:"SET_MODAL",payload:{modalType:"EDIT_AD_ACCOUNT_ACCESS",modalProps:{resourceId:e,principalId:s,dataToRefresh:a,assignmentType:n,rolesForAoaa:l,clientBusinessId:o}}}),setRemoveAdAccountAccessModal:({resourceId:e,principalId:s,dataToRefresh:a,assignmentType:n,resourceType:l})=>t({type:"SET_MODAL",payload:{modalType:"REMOVE_AD_ACCOUNT_ACCESS",modalProps:{resourceId:e,principalId:s,dataToRefresh:a,assignmentType:n,resourceType:l}}}),setOnboardingModal:({onComplete:e,onDismiss:s})=>t({type:"SET_MODAL",payload:{modalType:"ONBOARDING",modalProps:{onComplete:e,onDismiss:s}}}),setSwitchAdAccountModal:({id:e,name:s,owner_user_id:a,merchant_id:n})=>t({type:"SET_MODAL",payload:{modalType:"SWITCH_AD_ACCOUNT",modalProps:{id:e,name:s,owner_user_id:a,merchant_id:n}}}),setAssignProfilesModal:({selectedIds:e,selectionType:s,dataToRefresh:a,assignmentType:n,refreshData:l})=>t({type:"SET_MODAL",payload:{modalType:"ASSIGN_PROFILES",modalProps:{selectedIds:e,selectionType:s,dataToRefresh:a,assignmentType:n,refreshData:l}}}),setAssignAudiencesModal:({accountTypeSelected:e,displayedAccountType:s,forPartner:a,handleModalDismiss:n,isAudienceOwner:l,audienceAssignmentType:o})=>t({type:"SET_MODAL",payload:{modalType:"ASSIGN_AUDIENCES",modalProps:{accountTypeSelected:e,displayedAccountType:s,forPartner:a,handleModalDismiss:n,isAudienceOwner:l,audienceAssignmentType:o}}}),setAssignAssetsModal:({selectedIds:e,inviteId:s,dataToRefresh:a})=>t({type:"SET_MODAL",payload:{modalType:"ASSIGN_ASSETS",modalProps:{selectedIds:e,inviteId:s,dataToRefresh:a}}}),setRequestProfileAccessModal:({requestId:e,requesteeId:s,profilePermissions:a})=>t({type:"SET_MODAL",payload:{modalType:"REQUEST_PROFILE_ACCESS",modalProps:{requestId:e,requesteeId:s,profilePermissions:a}}}),setRequestCatalogAccessModal:({requestId:e})=>t({type:"SET_MODAL",payload:{modalType:"REQUEST_CATALOG_ACCESS",modalProps:{requestId:e}}}),setRequestProfileAccessGeneralModal:()=>t({type:"SET_MODAL",payload:{modalType:"REQUEST_PROFILE_ACCESS_GENERAL"}}),setAssetGroupsFormModal:e=>t({type:"SET_MODAL",payload:{modalType:"ASSET_GROUPS_FORM",modalProps:e}}),setShareTagModal:e=>t({type:"SET_MODAL",payload:{modalType:"SHARE_TAG_FORM",modalProps:e}}),setShareTagSummaryModal:e=>t({type:"SET_MODAL",payload:{modalType:"SHARE_TAG_SUMMARY_FORM",modalProps:e}}),setShareTagLegalModal:e=>t({type:"SET_MODAL",payload:{modalType:"SHARE_TAG_LEGAL_FORM",modalProps:e}}),setTagGetStartedModal:e=>t({type:"SET_MODAL",payload:{modalType:"SHARE_TAG_GET_STARTED_FORM",modalProps:e}}),setDeleteAssetGroupConfirmationModal:e=>t({type:"SET_MODAL",payload:{modalType:"DELETE_ASSET_GROUP_CONFIRMATION",modalProps:e}}),setAOAAPermissionAssignmentModal:({partnerBusinessInfo:e,ownerInfo:s,accountInfo:a})=>t({type:"SET_MODAL",payload:{modalType:"AOAA_PERMISSION_ASSIGNMENT",modalProps:{partnerBusinessInfo:e,ownerInfo:s,accountInfo:a}}}),setUnsavedPermissionsConfirmationModal:({partnerBusinessInfo:e,ownerInfo:s,accountInfo:a})=>t({type:"SET_MODAL",payload:{modalType:"UNSAVED_PERMISSIONS_CONFIRMATION",modalProps:{partnerBusinessInfo:e,ownerInfo:s,accountInfo:a}}}),setAOAARequestCreationSuccessModal:({partnerBusinessInfo:e,ownerInfo:s,businessIdToPermissions:a})=>t({type:"SET_MODAL",payload:{modalType:"AOAA_REQUEST_CREATION_SUCCESS",modalProps:{partnerBusinessInfo:e,ownerInfo:s,businessIdToPermissions:a}}}),setAddAssetOrUserToAssetGroup:({assetOrMemberType:e,assetGroupInfo:s})=>t({type:"SET_MODAL",payload:{modalType:"ADD_ASSET_OR_USER_TO_ASSET_GROUP",modalProps:{assetOrMemberType:e,assetGroupInfo:s}}}),setAddUserToAssetGroupConfirmation:e=>t({type:"SET_MODAL",payload:{modalType:"ADD_USER_TO_ASSET_GROUP_CONFIRMATION",modalProps:e}}),setRemoveAssetOrUserFromAssetGroup:({assetOrMemberType:e,toRemove:s})=>t({type:"SET_MODAL",payload:{modalType:"REMOVE_ASSET_OR_USER_TO_ASSET_GROUP",modalProps:{assetOrMemberType:e,toRemove:s}}}),setRemoveSystemUserFromApp:({toRemove:e})=>t({type:"SET_MODAL",payload:{modalType:"REMOVE_SYSTEM_USER_FROM_APP",modalProps:{toRemove:e}}}),setRemoveAssetFromTag:({assetOrMemberType:e,toRemove:s})=>t({type:"SET_MODAL",payload:{modalType:"REMOVE_ASSET_FROM_TAG",modalProps:{assetOrMemberType:e,toRemove:s}}}),setAddOrganizationManagersModal:e=>t({type:"SET_MODAL",payload:{modalType:"ADD_ORGANIZATION_MANAGERS",modalProps:{...e}}}),setAddOrganizationManagersConfirmationModal:e=>t({type:"SET_MODAL",payload:{modalType:"ADD_ORGANIZATION_MANAGERS_CONFIRMATION",modalProps:{...e}}}),setEditBusinessDetailsModal:e=>t({type:"SET_MODAL",payload:{modalType:"EDIT_BUSINESS_DETAILS",modalProps:e}}),setViewBusinessDetailsModal:e=>t({type:"SET_MODAL",payload:{modalType:"VIEW_BUSINESS_DETAILS",modalProps:e}}),setAddChildBusinessesModal:e=>t({type:"SET_MODAL",payload:{modalType:"ADD_CHILD_BUSINESSES",modalProps:{...e}}}),setAddChildBusinessesConfirmationModal:e=>t({type:"SET_MODAL",payload:{modalType:"ADD_CHILD_BUSINESSES_CONFIRMATION",modalProps:e}}),setSelectAdAccountToShareFromModal:()=>t({type:"SET_MODAL",payload:{modalType:"SELECT_AD_ACCOUNT_TO_SHARE_FROM"}}),setAddAdAccountModal:()=>t({type:"SET_MODAL",payload:{modalType:"ADD_AD_ACCOUNT"}}),setRequiredRMAAInformationModal:e=>t({type:"SET_MODAL",payload:{modalType:"ADD_REQUIRED_RMAA_INFORMATION",modalProps:e}}),setRMAAUncompleteModal:e=>t({type:"SET_MODAL",payload:{modalType:"RMAA_UNCOMPLETE_MODAL",modalProps:e}}),setSavedRMAAInformationSuccessModal:e=>t({type:"SET_MODAL",payload:{modalType:"SAVED_RMAA_INFORMATION_SUCCESS",modalProps:e}}),setConfirmAssetAccessRequestModal:e=>t({type:"SET_MODAL",payload:{modalType:"CONFIRM_ASSET_ACCESS_REQUEST",modalProps:e}}),setCreateBusinessHierarchyModal:e=>{t({type:"SET_MODAL",payload:{modalType:"CREATE_BUSINESS_HIERARCHY",modalProps:e}})},setUploadBusinessHierarchyAvatarImageModal:e=>{t({type:"SET_MODAL",payload:{modalType:"UPLOAD_BUSINESS_HIERARCHY_AVATAR_IMAGE",modalProps:e}})},setBusinessHierarchyCreationSuccessModal:e=>{t({type:"SET_MODAL",payload:{modalType:"BUSINESS_HIERARCHY_CREATION_SUCCESS",modalProps:e}})},setAssignCatalogModal:e=>{t({type:"SET_MODAL",payload:{modalType:"ASSIGN_CATALOG",modalProps:{...e}}})},setRemoveDefaultUtmsConfirmation:e=>{t({type:"SET_MODAL",payload:{modalType:"REMOVE_DEFAULT_UTMS_CONFIRMATION",modalProps:{...e}}})},setCeeMigrationBusinessInformationModal:e=>{t({type:"SET_MODAL",payload:{modalType:"CEE_MIGRATION_BUSINESS_INFORMATION_MODAL",modalProps:e}})},setResellerInviteSentSuccessfulModal:e=>{t({type:"SET_MODAL",payload:{modalType:"RESELLER_INVITE_SENT_SUCCESSFUL_MODAL",modalProps:e}})},setResellerInviteAcceptedSuccessfulModal:e=>{t({type:"SET_MODAL",payload:{modalType:"RESELLER_INVITE_ACCEPTED_SUCCESSFUL_MODAL",modalProps:e}})},setAddCatalogModal:()=>{t({type:"SET_MODAL",payload:{modalType:"ADD_CATALOG"}})},setRequestCatalogsGeneralModal:e=>{t({type:"SET_MODAL",payload:{modalType:"REQUEST_CATALOGS_GENERAL",modalProps:{...e}}})},setRequestCatalogsModal:e=>{t({type:"SET_MODAL",payload:{modalType:"REQUEST_CATALOGS",modalProps:{...e}}})},setAppSecretKeyModal:e=>{t({type:"SET_MODAL",payload:{modalType:"APP_SECRET_KEY_RESET",modalProps:e}})},setAddEditDomainRestrictionsModal:e=>{t({type:"SET_MODAL",payload:{modalType:"ADD_EDIT_DOMAIN_RESTRICTIONS",modalProps:e}})},setRevokeConversionSegmentAccessModal:e=>t({type:"SET_MODAL",payload:{modalType:"REVOKE_CONVERSION_SEGMENT_ACCESS",modalProps:e}}),setRemoveConversionSegmentModal:e=>t({type:"SET_MODAL",payload:{modalType:"REMOVE_CONVERSION_SEGMENT",modalProps:e}}),setAssignAdAccountToConversionSegmentModal:e=>t({type:"SET_MODAL",payload:{modalType:"ASSIGN_AD_ACCOUNT_TO_CONVERSION_SEGMENT",modalProps:e}}),setRemoveConversionDataModal:e=>t({type:"SET_MODAL",payload:{modalType:"REMOVE_CONVERSION_DATA",modalProps:e}}),clearModal:()=>t({type:"CLEAR_MODAL"})}),[]),l=(0,a.useMemo)(()=>({businessAccess:s,...n}),[s,n]);return(0,u.jsx)(c,{value:l,children:e})}function m(e=!1){let{checkExperiment:s}=(0,i.r)(),t=(0,n.TH)(),{anyEnabled:a}=s("web_business_access_table_reload_fix"),{anyEnabled:l}=s("web_m10n_business_hierarchy_beta"),{businessAccess:{businessId:r}}=A(),{params:{userBizId:_}}=(0,n.$B)();return l&&e&&(0,o.dK)(t)?r:a?_??"":r}function p(e=!1){let{checkExperiment:s}=(0,i.r)(),t=(0,n.TH)(),{anyEnabled:a}=s("web_business_access_table_reload_fix"),{anyEnabled:l}=s("web_m10n_business_hierarchy_beta"),{businessAccess:{detailId:r}}=A(),{params:{detailId:_}}=(0,n.$B)();return l&&e&&(0,o.dK)(t)?r:a?_??"":r}function y(){let{checkExperiment:e}=(0,i.r)(),{anyEnabled:s}=e("web_m10n_business_hierarchy_beta"),{businessAccess:{business:t}}=A();return s?t:null}function S(){let{businessAccess:{businessHierarchy:e}}=A();return e}function T(){let{checkExperiment:e}=(0,i.r)(),{anyEnabled:s}=e("web_m10n_business_hierarchy_beta"),{businessAccess:{manager:t}}=A();return s?t:null}function I(){let{checkExperiment:e}=(0,i.r)(),{anyEnabled:s}=e("web_m10n_business_hierarchy_beta"),{businessAccess:{profile:t}}=A();return s?t:null}function f(){let{checkExperiment:e}=(0,i.r)(),{anyEnabled:s}=e("web_m10n_business_hierarchy_beta"),{businessAccess:{adAccount:t}}=A();return s?t:null}function C(){let{businessAccess:{selectedAudience:e}}=A();return e}function O(){let{businessAccess:{partnerId:e}}=A();return e}function R(){let{checkExperiment:e}=(0,i.r)(),{anyEnabled:s}=e("web_m10n_business_hierarchy_beta"),{businessAccess:{employeeId:t}}=A();return s?t:""}function N(){let{businessAccess:{intents:e}}=A();return e}function h(){let{businessAccess:{modal:e}}=A();return e}},199593:function(e,s,t){t.d(s,{Z:()=>l,k:()=>a});let{Provider:a,get:n}=(0,t(729434).Z)("Conversations"),l=n},181444:function(e,s,t){t.d(s,{R:()=>u,U:()=>d});var a=t(667294),n=t(729434),l=t(686319);let o={modalOpen:!1,modalTitle:"",isSubmitting:!1,submissionComplete:!1,submissionFailure:"",actionFrom:"",prompt:"",nextPageToRedirect:""},i=(e,s)=>{switch(e=e||o,s.type){case"SHOW_IN_SITE_FEEDBACK_MODAL":return{...e,modalOpen:!0,modalTitle:s.payload.title??"",actionFrom:s.payload.actionFrom??"",nextPageToRedirect:s.payload.nextPageToRedirect??"",prompt:s.payload.prompt??""};case"REMOVE_IN_SITE_FEEDBACK_MODAL":return{...e,modalOpen:!1,modalTitle:"",isSubmitting:!1,submissionComplete:!1,submissionFailure:""};case"IN_SITE_FEEDBACK_STARTED_STARTED":return{...e,isSubmitting:!0,submissionComplete:!1,submissionFailure:""};case"IN_SITE_FEEDBACK_SUBMIT_SUCCEEDED":return{...e,isSubmitting:!1,submissionComplete:!0,submissionFailure:""};case"IN_SITE_FEEDBACK_SUBMIT_FAILED":return{...e,isSubmitting:!1,submissionComplete:!1,submissionFailure:s.payload.error};default:return e}};var r=t(785893);let{Provider:_,get:d}=(0,n.Z)("InSiteFeedback");function u({children:e}){let[s,t]=(0,a.useReducer)(i,o),n=(0,a.useCallback)((e,s,a,n)=>t({type:"SHOW_IN_SITE_FEEDBACK_MODAL",payload:{title:s,prompt:a,actionFrom:e,nextPageToRedirect:n}}),[]),d=(0,a.useCallback)(()=>t({type:"REMOVE_IN_SITE_FEEDBACK_MODAL",payload:{}}),[]),u=(0,a.useCallback)(()=>t({type:"IN_SITE_FEEDBACK_STARTED_STARTED",payload:{}}),[]),c=(0,a.useCallback)(()=>t({type:"IN_SITE_FEEDBACK_SUBMIT_SUCCEEDED",payload:{}}),[]),A=(0,a.useCallback)(e=>t({type:"IN_SITE_FEEDBACK_SUBMIT_FAILED",payload:{error:e}}),[]),E=(0,a.useCallback)(e=>{if(t({type:"IN_SITE_FEEDBACK_STARTED_STARTED",payload:{}}),!e.verbatim_text||0===e.verbatim_text.trim().length)return void t({type:"IN_SITE_FEEDBACK_SUBMIT_SUCCEEDED",payload:{}});(0,l.Z)({url:"/v3/analytics/feedback/",method:"POST",data:{feedback_data:JSON.stringify(e)}}).then(()=>{t({type:"IN_SITE_FEEDBACK_SUBMIT_SUCCEEDED",payload:{}})}).catch(e=>{t({type:"IN_SITE_FEEDBACK_SUBMIT_FAILED",payload:{error:e.message}})})},[]),m=(0,a.useMemo)(()=>({inSiteFeedback:s,showInSiteFeedbackModal:n,removeInSiteFeedbackModal:d,submitInSiteFeedbackStarted:u,inSiteFeedbackSubmitSucceeded:c,inSiteFeedbackSubmitFailed:A,submitInSiteFeedback:E}),[s,n,d,u,c,A,E]);return(0,r.jsx)(_,{value:m,children:e})}},710408:function(e,s,t){t.d(s,{P:()=>c,u:()=>u});var a=t(667294),n=t(729434);let l={fullName:"",email:"",phoneNumber:"",zipCode:"",formSubmissions:{}};function o(e,s){switch(e=e||l,s.type){case"AUTOFILL_LEADGEN_USER_INFO":return{...e,fullName:s.payload.fullName,email:s.payload.email};case"SET_LEADGEN_USER_INFO":return{...e,formSubmissions:s.payload.formSubmissions};default:return e}}var i=t(15667),r=t(886981),_=t(785893);let{Provider:d,get:u}=(0,n.Z)("LeadGen");function c({children:e}){let{isLoaded:s,data:t}=(()=>{let{isAuthenticated:e}=(0,i.B)();return(0,r.Z)(e?{name:"ApiResource",options:{url:"/v3/users/me/",data:{fields:["user.full_name","user.email","user.is_name_eligible_for_lead_form_autofill","user.is_email_eligible_for_lead_form_autofill"]}}}:null)})(),[n,u]=(0,a.useReducer)(o,l),c=(0,a.useCallback)(e=>u({type:"SET_LEADGEN_USER_INFO",payload:e}),[]);(0,a.useEffect)(()=>{s&&u({type:"AUTOFILL_LEADGEN_USER_INFO",payload:{...l,fullName:t?.is_name_eligible_for_lead_form_autofill?t.full_name:"",email:t?.is_email_eligible_for_lead_form_autofill?t.email:""}})},[s,t]);let A=(0,a.useMemo)(()=>({updateLeadGenInfo:c,leadGen:n}),[c,n]);return(0,_.jsx)(d,{value:A,children:e})}},314011:function(e,s,t){t.d(s,{C:()=>r,R:()=>i});var a=t(667294),n=t(729434),l=t(785893);let{Provider:o,get:i}=(0,n.Z)("MostRecentPin");function r({children:e}){let[s,t]=(0,a.useState)(),[n,i]=(0,a.useState)(),r=(0,a.useCallback)(e=>{i([e].concat((n?n.slice(0,10):[]).filter(s=>s!==e)))},[n]),_=(0,a.useMemo)(()=>({id:s,plpImageSignatures:n,setMostRecentPinId:t,setMostRecentPinImage:r}),[s,n,r]);return(0,l.jsx)(o,{value:_,children:e})}},969395:function(e,s,t){t.d(s,{Z:()=>G});var a=t(667294),n=t(21954),l=t(184954),o=t(77168),i=t(855860),r=t(78423),_=t(274320),d=t(792171),u=t(164444),c=t(642483),A=t(464876),E=t(575108),m=t(657043),p=t(791948),y=t(991384);let S=(e,s)=>e.data[s]&&e.data[s].messages||[];function T(e,s){let t=new Map;for(let a of e){if(!a)continue;let e=s(a);if(t.has(e)){let s=(0,y.Z)(t.get(e),a);t.set(e,s)}else t.set(e,a)}return[...t.values()]}function I(e){return[...e].sort((e,s)=>new Date(e.created_ms||e.created_at).getTime()-new Date(s.created_ms||s.created_at).getTime())}function f(e,s,t){return I(T(S(e,s).concat(t),e=>e.id))}let C={conversationsUnseenCount:0,data:{},newsHubCount:0,open:null,objectAttachment:null,showConversationsDropdown:!1,showNewMessageView:!1,ui:{},unread:0};function O(e,s){if(e=e||C,"CONVERSATION_OPEN"===s.type)return{...e,open:s.payload.id,objectAttachment:null,showNewMessageView:!1,ui:{...e.ui,[s.payload.id]:{contactRequestId:s.payload.contactRequestId||"",isPreview:s.payload.isPreview}}};if("CONVERSATION_CLOSE"===s.type)return{...e,open:null,objectAttachment:null,showNewMessageView:!1,ui:{...e.ui,[s.payload.id]:{contactRequestId:s.payload.contactRequestId||"",isPreview:!!s.payload.contactRequestId,isDeclined:s.payload.isDeclined}}};if("CONVERSATION_CREATE"===s.type){let{id:t}=s.payload;return{...e,data:{...e.data,[t]:{...e.data[t]||{},...s.payload}}}}if("CONVERSATION_DELETE"===s.type){let t={...e,data:{...e.data}},{id:a}=s.payload;return delete t.data[a],t}if("FETCH_COMPLETE"===s.type){let{options:t,resource:a,response:n}=s.payload,l=n.resource_response.data;if("ConversationMessagesResource"===a){let s=l||[],a=t?.conversation_id||"",n=f(e,a,s),o=n[n.length-1];return{...e,data:{...e.data,[a]:{...e.data[a],id:a,messages:n,unread:0,last_message:o}}}}if("ConversationsResource"===a){let s=l||[],t={...e,data:{...e.data}};return s.forEach(e=>{let{id:s,created_at:a,name:n,board:l,emails:o,unread:i,users:r,last_message:_}=e,d=f(t,s,[_]);t.data[s]={...t.data[s],id:s,created_at:a,name:n,board:l,emails:o||[],unread:i||0,users:r||[],last_message:_,messages:d}}),t}if("ConversationResource"===a){let s=l||{},{id:t}=s,a={...e,data:{...e.data}};return t&&(a.data[t]={...a.data[t],...s}),a}if("NewsHubBadgeResource"===a&&l){let s=l.conversations_unseen_count||0;return{...e,unread:s}}}else if("MESSAGE_SEND_PENDING"===s.type){let{id:t,message:a}=s.payload;if(e.data[t])return{...e,data:{...e.data,[t]:{...e.data[t],id:t,messages:[...e.data[t].messages,a]}}}}else if("MESSAGE_SEND_PENDING_SUCCESS"===s.type){let{id:t,tempMessage:a,newMessage:n}=s.payload;if(e.data[t]&&S(e,t).find(e=>e.id===a.id&&e.created_ms===a.created_ms)){let s=I(T(S(e,t).filter(e=>e.id!==a.id).concat([n]),e=>e.id));return{...e,data:{...e.data,[t]:{...e.data[t],last_message:n,messages:s}}}}}else if("MESSAGE_SEND_PENDING_FAILURE"===s.type){let{id:t,tempMessageId:a}=s.payload;if(e.data[t]){let s=S(e,t).filter(e=>e.id!==a);return{...e,data:{...e.data,[t]:{...e.data[t],messages:s}}}}}else if("MESSAGE_DELETE"===s.type){let{id:t,messageId:a}=s.payload;if(e.data[t]){let s=S(e,t).map(e=>e.id===a?{...e,deleted_by:2}:e);return{...e,data:{...e.data,[t]:{...e.data[t],messages:s}}}}}else if("OPEN_NEW_MESSAGE"===s.type){let{objectAttachment:t}=s.payload||null;return{...e,showNewMessageView:!0,open:null,objectAttachment:t}}else if("CLOSE_DROPDOWN"===s.type)return{...e,showConversationsDropdown:!1,objectAttachment:null,showNewMessageView:!1};else if("OPEN_DROPDOWN"===s.type)return{...e,showConversationsDropdown:!0};else if("UPDATE_NEWSHUB_COUNT"===s.type)return{...e,newsHubCount:s.payload};else if("UPDATE_UNREAD_COUNT"===s.type)return{...e,conversationsUnseenCount:s.payload};else if("CLEAR_MESSAGE_BADGE"===s.type){let{id:t}=s.payload;return{...e,data:{...e.data,[t]:{...e.data[t],unread:0}}}}else if("CONVERSATION_SAVE_POSITION"===s.type){let{id:t,position:a}=s.payload;return{...e,data:{...e.data,[t]:{...e.data[t],position:a}}}}else if("CONVERSATION_RESET_POSITION"===s.type){let{id:t}=s.payload;return{...e,data:{...e.data,[t]:{...e.data[t],position:null}}}}else if("SET_OBJECT_ATTACHMENT"===s.type){let{objectAttachment:t}=s.payload;return{...e,objectAttachment:t}}else if("REMOVE_OBJECT_ATTACHMENT"===s.type)return{...e,objectAttachment:null};return e}var R=t(199593),N=t(785893);function h({children:e}){let[s,t]=(0,a.useReducer)(O,C),n=(0,a.useCallback)(e=>t({type:"FETCH_COMPLETE",payload:e}),[]);(0,p.Z8)("ConversationMessagesResource",n),(0,p.my)("ConversationMessagesResource",n),(0,p.Z8)("ConversationsResource",n),(0,p.Z8)("ConversationResource",n),(0,p.Z8)("NewsHubBadgeResource",n);let l=(0,a.useCallback)((e,s=!1,a="")=>t({type:"CONVERSATION_OPEN",payload:{id:e,isPreview:s,contactRequestId:a}}),[]),o=(0,a.useCallback)((e,s="",a=!1)=>t({type:"CONVERSATION_CLOSE",payload:{id:e,contactRequestId:s,isDeclined:a}}),[]),i=(0,a.useCallback)(e=>t({type:"CONVERSATION_CREATE",payload:e}),[]),r=(0,a.useCallback)(e=>t({type:"CONVERSATION_DELETE",payload:{id:e}}),[]),_=(0,a.useCallback)((e,s)=>t({type:"CONVERSATION_SAVE_POSITION",payload:{id:e,position:s}}),[]),d=(0,a.useCallback)(e=>t({type:"CONVERSATION_RESET_POSITION",payload:{id:e}}),[]),u=(0,a.useCallback)((e,s,a)=>{E.Z.create("ConversationsResource",{user_ids:e,emails:s,text:""}).callCreate().then(e=>{t({type:"CONVERSATION_OPEN",payload:{id:(e&&e.resource_response.data).id}})}).catch(e=>{a((0,m.Z)(e,"message_detail")||(0,m.Z)(e,"message")||"")})},[]),c=(0,a.useCallback)(()=>{t({type:"CLOSE_DROPDOWN"})},[]),A=(0,a.useCallback)(()=>{t({type:"OPEN_DROPDOWN"})},[]),y=(0,a.useCallback)(e=>{t({type:"OPEN_NEW_MESSAGE",payload:{objectAttachment:e}})},[]),S=(0,a.useCallback)((e,s)=>t({type:"MESSAGE_SEND_PENDING",payload:{id:e,message:s}}),[]),T=(0,a.useCallback)((e,s,a)=>t({type:"MESSAGE_SEND_PENDING_SUCCESS",payload:{id:e,tempMessage:s,newMessage:a}}),[]),I=(0,a.useCallback)((e,s)=>t({type:"MESSAGE_SEND_PENDING_FAILURE",payload:{id:e,tempMessageId:s}}),[]),f=(0,a.useCallback)((e,s)=>t({type:"MESSAGE_DELETE",payload:{id:e,messageId:s}}),[]),h=(0,a.useCallback)(e=>t({type:"UPDATE_NEWSHUB_COUNT",payload:e}),[]),P=(0,a.useCallback)(e=>t({type:"UPDATE_UNREAD_COUNT",payload:e}),[]),g=(0,a.useCallback)(e=>t({type:"CLEAR_MESSAGE_BADGE",payload:{id:e}}),[]),b=(0,a.useCallback)(e=>t({type:"SET_OBJECT_ATTACHMENT",payload:{objectAttachment:e}}),[]),M=(0,a.useCallback)(()=>t({type:"REMOVE_OBJECT_ATTACHMENT"}),[]),D=(0,a.useMemo)(()=>({clearMessageBadge:g,conversationOpen:l,conversationClose:o,conversationCreate:i,conversationDelete:r,conversationGet:u,saveConversationPosition:_,resetConversationPosition:d,dropdownClose:c,dropdownOpen:A,newMessageOpen:y,pendingMessageSend:S,pendingMessageSuccess:T,pendingMessageFailure:I,deleteMessage:f,updateNewsHubCount:h,updateUnreadCount:P,conversations:s,setObjectAttachment:b,removeObjectAttachment:M}),[g,l,o,i,r,u,_,d,c,A,y,S,T,I,f,h,P,s,b,M]);return(0,N.jsx)(R.k,{value:D,children:e})}var P=t(161343);function g({children:e}){let[s,t]=(0,a.useState)(null),n=(0,a.useMemo)(()=>[s,t],[s]);return(0,N.jsx)(P.Z,{value:n,children:e})}var b=t(181444),M=t(710408),D=t(859685),L=t(314011),U=t(493812),B=t(702574),v=t(889539),z=t(666811);function G({children:e}){let s=(0,_.r)().checkExperiment("aid_exp_move_custom_shortcuts_context_provider").anyEnabled?a.Fragment:i.r;return(0,N.jsx)(h,{children:(0,N.jsx)(d.W,{children:(0,N.jsx)(B.l,{children:(0,N.jsx)(g,{children:(0,N.jsx)(z.X,{children:(0,N.jsx)(M.P,{children:(0,N.jsx)(v.j,{children:(0,N.jsx)(b.R,{children:(0,N.jsx)(r.CB,{children:(0,N.jsx)(A.sO,{children:(0,N.jsx)(l.FE,{children:(0,N.jsx)(o.H,{children:(0,N.jsx)(s,{children:(0,N.jsx)(U.yh,{children:(0,N.jsx)(n.r,{children:(0,N.jsx)(L.C,{children:(0,N.jsx)(c.a,{children:(0,N.jsx)(D.xM,{children:(0,N.jsx)(u.i,{children:e})})})})})})})})})})})})})})})})})})})}},702574:function(e,s,t){t.d(s,{l:()=>d,o:()=>_});var a=t(667294),n=t(729434),l=t(791948);function o(e,s){if(e=e||{},"SUGGESTIONS_FETCH_COMPLETE"===s.type){let{payload:t}=s;if("ShareSuggestionsResource"===t.resource){let a=s.payload.response.resource_response.data||[],{term:n=""}=t.options??{};return{...e,[n]:a}}if("ShareSuggestionsTypeaheadResource"===t.resource){let a=(s.payload.response.resource_response.data||{}).items||[],{term:n=""}=t.options??{};return{...e,[n]:a}}}return e}var i=t(785893);let{Provider:r,get:_}=(0,n.Z)("ShareSuggestions");function d({children:e}){let[s,t]=(0,a.useReducer)(o,{}),n=e=>{t({type:"SUGGESTIONS_FETCH_COMPLETE",payload:e})};(0,l.Z8)("ShareSuggestionsResource",n),(0,l.Z8)("ShareSuggestionsTypeaheadResource",n);let _=(0,a.useMemo)(()=>({shareSuggestions:s}),[s]);return(0,i.jsx)(r,{value:_,children:e})}},889539:function(e,s,t){t.d(s,{l:()=>_,j:()=>d});var a=t(667294),n=t(729434);let l={currentPinDraftId:null,mostRecentTaggedObjectId:null,selectedStlItemId:null,stlCallout:{showCallout:!1},stlTaggedCoords:null,stlHoveredTaggedObjectId:null},o=(e,s)=>{switch(e=e||l,s.type){case"STL_SELECT":return{...e,selectedStlItemId:s.payload.selectedStlItemId};case"STL_SHEET":return{...e,currentPinDraftId:s.payload.currentPinDraftId};case"STL_TAGGED_PIN":return{...e,stlTaggedCoords:s.payload.stlTaggedCoords};case"STL_ERROR_STATE":return{...e,stlCallout:{showCallout:s.payload.stlCallout.showCallout,type:s.payload.stlCallout.type}};case"STL_MOST_RECENT_TAGGED_OBJECT_ID":return{...e,mostRecentTaggedObjectId:s.payload.mostRecentTaggedObjectId};case"SET_STL_HOVERED_TAGGED_OBJECT_ID":return{...e,stlHoveredTaggedObjectId:s.payload.stlHoveredTaggedObjectId};default:return e}};var i=t(785893);let{Provider:r,get:_}=(0,n.Z)("ShopTheLook");function d({children:e}){let[s,t]=(0,a.useReducer)(o,l),n=(0,a.useMemo)(()=>({shopTheLook:s,setStlSelection:e=>{t({type:"STL_SELECT",payload:{selectedStlItemId:e}})},setCurrentPinDraftId:e=>{t({type:"STL_SHEET",payload:{currentPinDraftId:e}})},setStlTaggedCoord:e=>{t({type:"STL_TAGGED_PIN",payload:{stlTaggedCoords:e}})},setStlCallout:({showCallout:e,type:s})=>{t({type:"STL_ERROR_STATE",payload:{stlCallout:{showCallout:e,type:s}}})},setMostRecentTaggedObjectId:e=>{t({type:"STL_MOST_RECENT_TAGGED_OBJECT_ID",payload:{mostRecentTaggedObjectId:e}})},setStlHoveredTaggedObjectId:e=>{t({type:"SET_STL_HOVERED_TAGGED_OBJECT_ID",payload:{stlHoveredTaggedObjectId:e}})}}),[s]);return(0,i.jsx)(r,{value:n,children:e})}},666811:function(e,s,t){t.d(s,{X:()=>d,Z:()=>_});var a=t(667294),n=t(729434),l=t(453179);function o(e=null,s){switch(s.type){case"REPORT_CONTENT_SHOW":return{id:s.payload.id,auxData:s.payload.auxData,isProduct:s.payload.isProduct,isPromoted:s.payload.isPromoted,parentId:s.payload.parentId,videoDuration:s.payload.videoDuration,viewParameter:s.payload.viewParameter,viewType:s.payload.viewType,type:s.payload.type,isThirdPartyAd:s.payload.isThirdPartyAd,nodeId:s.payload.nodeId};case"REPORT_CONTENT_DISMISS":return null;default:return e}}var i=t(785893);let{Provider:r,get:_}=(0,n.Z)("ReportData");function d({children:e}){let[s,t]=(0,a.useReducer)(o,null),n=(0,a.useCallback)(()=>t({type:"REPORT_CONTENT_DISMISS"}),[]),_=(0,a.useCallback)((e,s,a)=>t({type:"REPORT_CONTENT_SHOW",payload:{id:e,isProduct:!1,isPromoted:!1,parentId:s,videoDuration:null,viewParameter:null,viewType:null,type:a,nodeId:null}}),[]),d=(0,a.useCallback)((e,s,a)=>t({type:"REPORT_CONTENT_SHOW",payload:{id:e,isProduct:!1,isPromoted:!1,videoDuration:null,viewParameter:s,viewType:a,type:"conversation",nodeId:null}}),[]),u=(0,a.useCallback)(({id:e,viewParameter:s,viewType:a,nodeId:n})=>t({type:"REPORT_CONTENT_SHOW",payload:{id:e,isProduct:!1,isPromoted:!1,videoDuration:null,viewParameter:s,viewType:a,type:"pin",nodeId:n}}),[]),c=(0,a.useCallback)(({pinId:e,isDownstreamPromotion:s,hasPromoter:a,firstVideoDuration:n,isProduct:o,viewParameter:i,viewType:r,isThirdPartyAd:_,nodeId:d,auxData:u})=>{t({type:"REPORT_CONTENT_SHOW",payload:{id:e,auxData:u,isProduct:o,isPromoted:(0,l.jL)(s,a),videoDuration:n,viewParameter:i,viewType:r,type:"pin",isThirdPartyAd:_,nodeId:d}})},[]),A=(0,a.useMemo)(()=>({reportData:s,dismiss:n,reportComment:_,reportConversation:d,reportImage:u,reportPin:c}),[s,n,_,d,u,c]);return(0,i.jsx)(r,{value:A,children:e})}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/5579-51dacb7b83d5ef24.mjs.map